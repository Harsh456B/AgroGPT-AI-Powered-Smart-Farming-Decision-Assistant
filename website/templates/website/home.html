<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroGPT - AI-Powered Smart Farming</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #0a0a0a 100%);
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.3) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        /* Smoke Color Utility Classes */
        .smoke-bg {
            background: rgba(245, 245, 245, 0.95);
            color: #222;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .smoke-card {
            background: rgba(245, 245, 245, 0.9);
            color: #333;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .smoke-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .smoke-section {
            background: rgba(245, 245, 245, 0.85);
            color: #333;
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.25);
        }

        .smoke-text {
            color: #555;
            font-weight: 500;
        }

        .smoke-border {
            border: 2px solid rgba(245, 245, 245, 0.8);
            border-radius: 8px;
            padding: 15px;
        }

        /* Advanced Navigation Bar Styles */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
            height: 60px;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.3em;
            font-weight: bold;
            color: #00d4ff;
            text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
        }

        .nav-logo i {
            font-size: 1.5em;
            animation: glow 2s ease-in-out infinite alternate;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 5px;
            margin: 0;
            padding: 0;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #b8b8b8;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9em;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.4s;
        }

        .nav-link:hover::before {
            left: 100%;
        }

        .nav-link:hover {
            color: #00d4ff;
            background: rgba(0, 212, 255, 0.05);
            border-color: rgba(0, 212, 255, 0.2);
            transform: translateY(-1px);
        }

        .nav-link.active {
            color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .nav-link i {
            font-size: 0.9em;
        }

        .nav-actions {
            display: flex;
            gap: 8px;
        }

        .nav-btn {
            background: transparent;
            border: 1px solid rgba(0, 212, 255, 0.2);
            color: #b8b8b8;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn-text {
            display: inline;
        }

        @media (max-width: 768px) {
            .btn-text {
                display: none;
            }
        }

        .nav-btn:hover {
            color: #00d4ff;
            border-color: rgba(0, 212, 255, 0.4);
            background: rgba(0, 212, 255, 0.05);
            transform: translateY(-1px);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 3px;
            z-index: 1001;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.3s ease;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .hamburger:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.4);
        }

        .hamburger.active {
            background: rgba(0, 212, 255, 0.3);
            border-color: rgba(0, 212, 255, 0.6);
        }

        .bar {
            width: 20px;
            height: 2px;
            background: #00d4ff;
            border-radius: 1px;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            padding-top: 80px;
        }

        .hero-section {
            text-align: center;
            padding: 60px 0;
            animation: fadeInUp 1s ease-out;
        }

        .hero-title {
            color: #00d4ff;
            font-size: 4em;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.8);
            animation: glow 2s ease-in-out infinite alternate;
        }

        .hero-subtitle {
            color: #b8b8b8;
            font-size: 1.3em;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .form-container {
            background: rgba(26, 26, 46, 0.95);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 212, 255, 0.25);
            border: 2px solid rgba(0, 212, 255, 0.4);
            backdrop-filter: blur(20px);
            max-width: 650px;
            margin: 0 auto;
            animation: slideInUp 1s ease-out 0.5s both;
            position: relative;
            overflow: hidden;
        }

        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00d4ff, #ff77c8, #00d4ff);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .form-header {
            text-align: center;
            margin-bottom: 35px;
        }

        .form-title {
            color: #ff77c8;
            margin-bottom: 10px;
            font-size: 2.2em;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(255, 119, 200, 0.5);
        }

        .form-subtitle {
            color: #b8b8b8;
            font-size: 1.1em;
            margin: 0;
            opacity: 0.9;
        }

        /* Collapsible Form Sections */
        .form-section {
            margin-bottom: 20px;
            border-radius: 15px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 212, 255, 0.2);
            transition: all 0.3s ease;
        }

        .form-section:hover {
            border-color: rgba(0, 212, 255, 0.4);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background: rgba(0, 212, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
        }

        .section-header:hover {
            background: rgba(0, 212, 255, 0.15);
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #00d4ff;
            font-weight: 600;
            font-size: 1.1em;
        }

        .section-title i {
            color: #ff77c8;
            font-size: 1.2em;
        }

        .section-toggle {
            color: #00d4ff;
            transition: transform 0.3s ease;
        }

        .section-header.active .section-toggle {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 25px;
            display: none;
            animation: slideDown 0.3s ease-out;
        }

        .section-content.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            color: #00d4ff;
            font-weight: 600;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group label i {
            color: #ff77c8;
            font-size: 1.1em;
        }

        /* Enhanced Select Wrapper */
        .enhanced-select-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .enhanced-select {
            width: 100%;
            padding: 18px 20px 18px 50px;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            background: rgba(10, 10, 10, 0.8);
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }

        .enhanced-select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 25px rgba(0, 212, 255, 0.3);
            transform: translateY(-2px);
        }

        .enhanced-select option {
            background: #1a1a2e;
            color: #fff;
            padding: 10px;
        }

        .enhanced-select optgroup {
            background: #16213e;
            color: #00d4ff;
            font-weight: bold;
            padding: 8px;
        }

        .select-arrow {
            position: absolute;
            right: 15px;
            color: #00d4ff;
            font-size: 14px;
            pointer-events: none;
            transition: transform 0.3s ease;
        }

        .enhanced-select:focus + .select-arrow {
            transform: rotate(180deg);
        }

        /* Enhanced Input Wrapper */
        .enhanced-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .enhanced-input {
            width: 100%;
            padding: 18px 20px 18px 50px;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            background: rgba(10, 10, 10, 0.8);
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .enhanced-input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 25px rgba(0, 212, 255, 0.3);
            transform: translateY(-2px);
        }

        .enhanced-input::placeholder {
            color: #888;
        }

        .input-icon {
            position: absolute;
            left: 15px;
            color: #00d4ff;
            font-size: 18px;
            pointer-events: none;
        }

        .form-control, .form-select {
            width: 100%;
            padding: 15px 15px 15px 50px;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            background: rgba(10, 10, 10, 0.8);
            color: #fff;
            font-size: 1em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-control:focus, .form-select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            transform: translateY(-2px);
        }

        .form-control::placeholder {
            color: #888;
        }

        /* Form Actions */
        .form-actions {
            margin-top: 35px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
        }

        .enhanced-submit-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #00d4ff, #ff77c8);
            border: none;
            border-radius: 15px;
            color: #fff;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .enhanced-submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .enhanced-submit-btn:hover::before {
            left: 100%;
        }

        .enhanced-submit-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.5);
        }

        .enhanced-submit-btn:active {
            transform: translateY(-2px);
        }

        .btn-content {
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 2;
            position: relative;
        }

        .btn-glow {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, #00d4ff, #ff77c8, #00d4ff);
            border-radius: 15px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .enhanced-submit-btn:hover .btn-glow {
            opacity: 0.3;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading-container {
            max-width: 400px;
            margin: 0 auto;
        }

        .ai-brain {
            position: relative;
            margin-bottom: 30px;
        }

        .brain-core {
            font-size: 4em;
            animation: pulse 2s infinite;
        }

        .brain-pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border: 3px solid #00d4ff;
            border-radius: 50%;
            animation: pulse-ring 2s infinite;
        }

        .loading-text {
            margin-bottom: 30px;
        }

        .loading-word {
            display: inline-block;
            margin: 0 5px;
            color: #00d4ff;
            font-weight: bold;
            animation: fadeInOut 2s infinite;
        }

        .loading-word:nth-child(2) { animation-delay: 0.5s; }
        .loading-word:nth-child(3) { animation-delay: 1s; }
        .loading-word:nth-child(4) { animation-delay: 1.5s; }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 212, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #ff77c8);
            border-radius: 4px;
            animation: progress 3s ease-in-out infinite;
        }

        .loading-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .stat-icon {
            font-size: 1.2em;
        }

        .stat-text {
            font-size: 0.9em;
            color: #b8b8b8;
        }

        .info-section {
            margin-top: 60px;
            text-align: center;
        }

        .info-section h2 {
            color: #ff77c8;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .info-card {
            background: rgba(26, 26, 46, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.2);
            border: 2px solid rgba(0, 212, 255, 0.3);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .info-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 212, 255, 0.3);
        }

        .info-card h3 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .info-card p {
            color: #b8b8b8;
            line-height: 1.6;
        }

        /* Features Section Styles - COMPACT VERSION */
        .features-section {
            margin-top: 30px;
            text-align: center;
            padding: 20px 0 10px 0;
        }

        .features-title {
            color: #00ff88;
            margin-bottom: 25px;
            font-size: 2.2em;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 0;
            justify-items: center;
        }

        .feature-card {
            background: linear-gradient(135deg, #181c24 60%, #16213e 100%);
            border-radius: 18px;
            padding: 28px 18px 24px 18px;
            box-shadow: 0 6px 24px rgba(0, 255, 136, 0.10), 0 1.5px 6px rgba(0,0,0,0.10);
            border: 1.5px solid rgba(0,255,136,0.18);
            transition: all 0.3s cubic-bezier(0.25,0.46,0.45,0.94);
            max-width: 340px;
            min-width: 0;
            margin: 0 auto;
        }
        .feature-card:hover {
            transform: translateY(-6px) scale(1.03);
            box-shadow: 0 12px 32px rgba(0,255,136,0.18), 0 2px 8px rgba(0,0,0,0.13);
            border-color: #00ff88;
        }
        .feature-icon {
            width: 62px;
            height: 62px;
            background: radial-gradient(circle, #00ff88 60%, #00d4ff 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 18px auto;
            font-size: 2em;
            color: #181c24;
            box-shadow: 0 0 18px 0 #00ff8855;
        }
        .feature-card h3 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 1.25em;
            font-weight: 700;
        }
        .feature-card p {
            color: #b8b8b8;
            line-height: 1.5;
            font-size: 1em;
            margin-bottom: 14px;
        }
        .feature-highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .highlight-item {
            background: rgba(0,255,136,0.08);
            border: 1px solid rgba(0,255,136,0.18);
            border-radius: 14px;
            padding: 5px 12px;
            color: #00ff88;
            font-size: 0.88em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }
        .highlight-item i {
            font-size: 0.9em;
        }

        .feature-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.5),
                0 0 150px rgba(0, 255, 136, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: rgba(0, 255, 136, 0.5);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 2.5em;
            color: #1a1a1a;
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.4);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .feature-card:hover .feature-icon::before {
            left: 100%;
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.6);
        }

        .feature-card h3 {
            color: #ffffff;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .feature-card p {
            color: #b8b8b8;
            line-height: 1.7;
            font-size: 1.1em;
            margin-bottom: 30px;
        }

        .feature-highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .highlight-item {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 20px;
            padding: 8px 16px;
            color: #00ff88;
            font-size: 0.9em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .highlight-item:hover {
            background: rgba(0, 255, 136, 0.2);
            border-color: rgba(0, 255, 136, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }

        .highlight-item i {
            font-size: 0.9em;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
            }
            to {
                text-shadow: 0 0 40px rgba(0, 212, 255, 0.8);
            }
        }

        /* Footer Styles */
        .footer { background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%); border-top: 1px solid rgba(0, 212, 255, 0.2); margin-top: 80px; position: relative; overflow: hidden; }
        .footer-container { max-width: 1200px; margin: 0 auto; padding: 60px 20px 40px; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start; gap: 40px; position: relative; z-index: 1; }
        .footer-section { flex: 1 1 300px; min-width: 250px; }
        .footer-section h3 { color: #00d4ff; font-size: 1.3em; margin-bottom: 20px; text-shadow: 0 0 8px #00d4ff44; }
        .footer-logo { display: flex; align-items: center; gap: 10px; font-size: 1.8em; font-weight: bold; color: #00d4ff; margin-bottom: 20px; text-shadow: 0 0 10px #00d4ff44; }
        .footer-logo i { font-size: 1.5em; animation: glow 2s ease-in-out infinite alternate; }
        .footer-section p { color: #b8b8b8; line-height: 1.6; margin-bottom: 25px; }
        .footer-links { list-style: none; padding: 0; }
        .footer-links li { margin-bottom: 12px; }
        .footer-links a { color: #b8b8b8; text-decoration: none; transition: all 0.3s ease; position: relative; padding-left: 15px; }
        .footer-links a:hover { color: #00d4ff; padding-left: 20px; }
        .footer-links a::before { content: '→'; position: absolute; left: 0; color: #00d4ff; opacity: 0; transition: all 0.3s ease; }
        .footer-links a:hover::before { opacity: 1; }
        .footer-bottom { border-top: 1px solid rgba(0, 212, 255, 0.2); padding: 25px 20px; position: relative; z-index: 1; }
        .footer-bottom-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
        .footer-bottom p { color: #888; font-size: 0.9em; }
        .footer-bottom-links { display: flex; gap: 20px; }
        .footer-bottom-links a { color: #888; text-decoration: none; font-size: 0.9em; transition: color 0.3s ease; }
        .footer-bottom-links a:hover { color: #00d4ff; }
        @media (max-width: 900px) { .facts-grid { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); } .main-content { padding: 10px 0; } }
        @media (max-width: 768px) { .footer-container { flex-direction: column; gap: 30px; padding: 40px 20px 30px; } .footer-bottom-content { flex-direction: column; text-align: center; } .footer-bottom-links { justify-content: center; } .nav-container { padding: 0 15px; } .nav-menu { display: none; } .main-content { padding: 10px 0; } }
        @keyframes glow { 0% { text-shadow: 0 0 8px #00d4ff44; } 100% { text-shadow: 0 0 12px #16213e80; } }

        /* --- Footer CSS from facts.html --- */
        .footer { background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%); border-top: 1px solid rgba(0, 212, 255, 0.2); margin-top: 80px; position: relative; overflow: hidden; }
        .footer-container { max-width: 1200px; margin: 0 auto; padding: 60px 20px 40px; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start; gap: 40px; position: relative; z-index: 1; }
        .footer-section { flex: 1 1 300px; min-width: 250px; }
        .footer-section h3 { color: #00d4ff; font-size: 1.3em; margin-bottom: 20px; text-shadow: 0 0 8px #00d4ff44; }
        .footer-logo { display: flex; align-items: center; gap: 10px; font-size: 1.8em; font-weight: bold; color: #00d4ff; margin-bottom: 20px; text-shadow: 0 0 10px #00d4ff44; }
        .footer-logo i { font-size: 1.5em; animation: glow 2s ease-in-out infinite alternate; }
        .footer-section p { color: #b8b8b8; line-height: 1.6; margin-bottom: 25px; }
        .footer-links { list-style: none; padding: 0; }
        .footer-links li { margin-bottom: 12px; }
        .footer-links a { color: #b8b8b8; text-decoration: none; transition: all 0.3s ease; position: relative; padding-left: 15px; }
        .footer-links a:hover { color: #00d4ff; padding-left: 20px; }
        .footer-links a::before { content: '→'; position: absolute; left: 0; color: #00d4ff; opacity: 0; transition: all 0.3s ease; }
        .footer-links a:hover::before { opacity: 1; }
        .footer-bottom { border-top: 1px solid rgba(0, 212, 255, 0.2); padding: 25px 20px; position: relative; z-index: 1; }
        .footer-bottom-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
        .footer-bottom p { color: #888; font-size: 0.9em; }
        .footer-bottom-links { display: flex; gap: 20px; }
        .footer-bottom-links a { color: #888; text-decoration: none; font-size: 0.9em; transition: color 0.3s ease; }
        .footer-bottom-links a:hover { color: #00d4ff; }
        @media (max-width: 900px) { .facts-grid { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); } .main-content { padding: 10px 0; } }
        @media (max-width: 768px) { .footer-container { flex-direction: column; gap: 30px; padding: 40px 20px 30px; } .footer-bottom-content { flex-direction: column; text-align: center; } .footer-bottom-links { justify-content: center; } .nav-container { padding: 0 15px; } .nav-menu { display: none; } .main-content { padding: 10px 0; } }
        @keyframes glow { 0% { text-shadow: 0 0 8px #00d4ff44; } 100% { text-shadow: 0 0 12px #16213e80; } }

        /* AI Assistant Styles */
        .ai-assistant {
            position: fixed !important;
            bottom: 30px !important;
            right: 30px !important;
            z-index: 99999 !important;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transform: none !important;
            transition: none !important;
            pointer-events: auto !important;
            will-change: auto !important;
        }
        .ai-assistant-toggle {
            background: linear-gradient(45deg, #00d4ff, #ff77c8);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }
        .ai-assistant-panel {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background: rgba(10, 10, 10, 0.95);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            display: none;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .ai-assistant * {
            transform: none !important;
            transition: none !important;
        }

        .ai-assistant-toggle {
            background: linear-gradient(45deg, #00d4ff, #ff77c8);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 8px 14px;
            min-width: unset;
            max-width: 120px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 12px;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .ai-assistant-toggle:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.4);
        }

        .ai-assistant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
            background: rgba(0, 212, 255, 0.05);
            border-radius: 18px 18px 0 0;
        }

        .ai-assistant-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #00d4ff;
            font-weight: 600;
            font-size: 16px;
        }

        .ai-assistant-close {
            background: transparent;
            border: none;
            color: #b8b8b8;
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .ai-assistant-close:hover {
            color: #ff77c8;
            background: rgba(255, 119, 200, 0.1);
        }

        .ai-assistant-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .ai-message {
            display: flex;
            gap: 10px;
            animation: slideInUp 0.3s ease-out;
        }

        .ai-message.ai-user {
            flex-direction: row-reverse;
        }

        .ai-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .ai-bot .ai-avatar {
            background: linear-gradient(45deg, #00d4ff, #ff77c8);
            color: white;
        }

        .ai-user .ai-avatar {
            background: linear-gradient(45deg, #ff77c8, #00d4ff);
            color: white;
        }

        .ai-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 16px;
            border-radius: 15px;
            max-width: 250px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-content p {
            margin: 0 0 8px 0;
            color: #fff;
            font-size: 14px;
            line-height: 1.4;
        }

        .ai-content ul {
            margin: 8px 0;
            padding-left: 20px;
            color: #fff;
            font-size: 13px;
        }

        .ai-content li {
            margin: 4px 0;
        }

        .ai-user .ai-content {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .ai-assistant-input {
            display: flex;
            gap: 10px;
            padding: 20px;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
            background: rgba(0, 212, 255, 0.05);
            border-radius: 0 0 18px 18px;
        }

        .ai-assistant-input input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 25px;
            padding: 12px 20px;
            color: #fff;
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .ai-assistant-input input:focus {
            border-color: #00d4ff;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }

        .ai-assistant-input input::placeholder {
            color: #b8b8b8;
        }

        .ai-assistant-input button {
            background: linear-gradient(45deg, #00d4ff, #ff77c8);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .ai-assistant-input button:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .ai-assistant-panel {
                width: 300px;
                height: 450px;
                bottom: 70px;
                right: 10px;
            }
            
            .ai-assistant-toggle {
                padding: 12px 20px;
                font-size: 13px;
            }

            /* Enhanced Form Responsive */
            .form-container {
                padding: 30px 25px;
                max-width: 95%;
                margin: 0 auto;
            }

            .form-title {
                font-size: 1.8em;
            }

            .form-subtitle {
                font-size: 1em;
            }

            .section-header {
                padding: 18px 20px;
            }

            .section-title {
                font-size: 1em;
            }

            .section-content {
                padding: 20px;
            }

            .enhanced-select,
            .enhanced-input {
                padding: 16px 18px 16px 45px;
                font-size: 15px;
            }

            .enhanced-submit-btn {
                padding: 18px;
                font-size: 1.1em;
            }

            .btn-content {
                gap: 8px;
            }
        }

        @media (max-width: 600px) {
            .ai-assistant--move-up {
                bottom: 120px !important;
            }

            .form-container {
                padding: 25px 20px;
                border-radius: 20px;
            }

            .form-title {
                font-size: 1.6em;
            }

            .section-header {
                padding: 15px 18px;
            }

            .section-content {
                padding: 18px;
            }

            .enhanced-select,
            .enhanced-input {
                padding: 14px 16px 14px 40px;
                font-size: 14px;
            }

            .enhanced-submit-btn {
                padding: 16px;
                font-size: 1em;
                letter-spacing: 0.5px;
            }

            .select-arrow,
            .input-icon {
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            .form-container {
                padding: 20px 15px;
                margin: 10px;
            }

            .form-title {
                font-size: 1.4em;
            }

            .form-subtitle {
                font-size: 0.9em;
            }

            .section-header {
                padding: 12px 15px;
            }

            .section-title {
                font-size: 0.9em;
                gap: 8px;
            }

            .section-content {
                padding: 15px;
            }

            .enhanced-select,
            .enhanced-input {
                padding: 12px 14px 12px 35px;
                font-size: 13px;
            }

            .enhanced-submit-btn {
                padding: 14px;
                font-size: 0.9em;
            }
        }

        body.ai-assistant-open .ai-assistant-toggle {
            display: none !important;
        }

        @media (max-width: 767px) {
            .nav-menu {
                display: none;
                position: fixed;
                left: -100%;
                top: 55px;
                flex-direction: column;
                background: rgba(10, 10, 10, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                gap: 15px;
                border-top: 1px solid rgba(0, 212, 255, 0.2);
                backdrop-filter: blur(15px);
                z-index: 1002;
            }
            .nav-menu.active {
                display: flex;
                left: 0;
            }
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 68, 68, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffaa00, #ff8800);
            color: #ffffff;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 170, 0, 0.3);
        }

        .privacy-info {
            margin-bottom: 25px;
        }

        .privacy-alert {
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .privacy-alert i {
            color: #00d4ff;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .privacy-alert strong {
            color: #00d4ff;
            display: block;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .privacy-alert p {
            color: #b8b8b8;
            margin: 0;
            line-height: 1.5;
        }

        .privacy-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .notification-warning {
            border-color: #ffaa00;
            background: rgba(255, 170, 0, 0.1);
        }
    </style>
</head>
<body>
    <!-- Advanced Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-robot"></i>
                <span>AgroGPT</span>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="/" class="nav-link active">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/features/" class="nav-link">
                        <i class="fas fa-microchip"></i>
                        <span>Features</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/gallery/" class="nav-link">
                        <i class="fas fa-seedling"></i>
                        <span>Gallery</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/facts/" class="nav-link">
                        <i class="fas fa-lightbulb"></i>
                        <span>Facts</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/about/" class="nav-link">
                        <i class="fas fa-info-circle"></i>
                        <span>About</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/contact/" class="nav-link">
                        <i class="fas fa-envelope"></i>
                        <span>Contact</span>
                    </a>
                </li>
            </ul>
            
            <div class="nav-actions">
                <button class="nav-btn" onclick="openModal('adminLoginModal')" id="adminLoginBtn">
                    <i class="fas fa-user-shield"></i>
                    <span class="btn-text">Admin</span>
                </button>
                <button class="nav-btn" onclick="openModal('userProfileModal')" id="userProfileBtn" style="display: none;">
                    <i class="fas fa-user-circle"></i>
                    <span class="btn-text">Profile</span>
                </button>
                <button class="nav-btn" onclick="openModal('settingsModal')" id="settingsBtn">
                    <i class="fas fa-cog"></i>
                    <span class="btn-text">Settings</span>
                </button>
            </div>
            
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="hero-section">
            <h1 class="hero-title">
                <i class="fas fa-seedling"></i> AgroGPT
            </h1>
            <p class="hero-subtitle">
                AI-Powered Smart Farming Platform - Get instant crop recommendations, weather insights, and farming guidance powered by advanced machine learning.
            </p>

            <div class="form-container">
                <div class="form-header">
                    <h2 class="form-title">
                        <i class="fas fa-rocket"></i> Start Your AI Analysis
                    </h2>
                    <p class="form-subtitle">Get instant crop recommendations powered by advanced AI</p>
                </div>

                <form id="cropForm" method="post" action="{% url 'predict_crop' %}">
                    {% csrf_token %}
                    
                    <!-- Collapsible Crop Selection Section -->
                    <div class="form-section">
                        <div class="section-header" onclick="toggleSection('cropSection')">
                            <div class="section-title">
                                <i class="fas fa-seedling"></i>
                                <span>Crop Selection</span>
                            </div>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        
                        <div class="section-content" id="cropSection">
                            <div class="form-group">
                                <label for="crop">
                                    <i class="fas fa-leaf"></i> Select Your Crop
                                </label>
                                <div class="enhanced-select-wrapper">
                                    <select id="crop" name="crop_name" class="enhanced-select" required>
                                        <option value="">🌾 Choose your crop...</option>
                                        <optgroup label="🌾 Grains & Cereals">
                                            <option value="Rice">🍚 Rice</option>
                                            <option value="Wheat">🌾 Wheat</option>
                                            <option value="Maize">🌽 Maize</option>
                                            <option value="Barley">🌾 Barley</option>
                                            <option value="Oats">🌾 Oats</option>
                                            <option value="Millet">🌾 Millet</option>
                                            <option value="Sorghum">🌾 Sorghum</option>
                                        </optgroup>
                                        <optgroup label="🫘 Pulses">
                                            <option value="Chickpea">🫘 Chickpea</option>
                                            <option value="Lentil">🫘 Lentil</option>
                                            <option value="Pigeonpea">🫘 Pigeonpea</option>
                                            <option value="Mothbean">🫘 Mothbean</option>
                                            <option value="Mungbean">🫘 Mungbean</option>
                                            <option value="Blackgram">🫘 Blackgram</option>
                                        </optgroup>
                                        <optgroup label="🫘 Oilseeds">
                                            <option value="Soybean">🫘 Soybean</option>
                                            <option value="Groundnut">🥜 Groundnut</option>
                                            <option value="Sunflower">🌻 Sunflower</option>
                                            <option value="Sesamum">🫘 Sesamum</option>
                                            <option value="Safflower">🌻 Safflower</option>
                                            <option value="Castor">🫘 Castor</option>
                                        </optgroup>
                                        <optgroup label="🥬 Vegetables">
                                            <option value="Tomato">🍅 Tomato</option>
                                            <option value="Potato">🥔 Potato</option>
                                            <option value="Onion">🧅 Onion</option>
                                            <option value="Cabbage">🥬 Cabbage</option>
                                            <option value="Cauliflower">🥦 Cauliflower</option>
                                            <option value="Carrot">🥕 Carrot</option>
                                            <option value="Cucumber">🥒 Cucumber</option>
                                            <option value="Brinjal">🍆 Brinjal</option>
                                            <option value="Peas">🫛 Peas</option>
                                            <option value="Beans">🫛 Beans</option>
                                        </optgroup>
                                        <optgroup label="🍎 Fruits">
                                            <option value="Mango">🥭 Mango</option>
                                            <option value="Banana">🍌 Banana</option>
                                            <option value="Apple">🍎 Apple</option>
                                            <option value="Orange">🍊 Orange</option>
                                            <option value="Papaya">🥭 Papaya</option>
                                            <option value="Guava">🍈 Guava</option>
                                            <option value="Grapes">🍇 Grapes</option>
                                            <option value="Pomegranate">🍎 Pomegranate</option>
                                            <option value="Litchi">🍒 Litchi</option>
                                            <option value="Pineapple">🍍 Pineapple</option>
                                            <option value="Watermelon">🍉 Watermelon</option>
                                            <option value="Muskmelon">🍈 Muskmelon</option>
                                        </optgroup>
                                    </select>
                                    <div class="select-arrow">
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Collapsible Season Selection Section -->
                    <div class="form-section">
                        <div class="section-header" onclick="toggleSection('seasonSection')">
                            <div class="section-title">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Season & Timing</span>
                            </div>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        
                        <div class="section-content" id="seasonSection">
                            <div class="form-group">
                                <label for="season">
                                    <i class="fas fa-sun"></i> Select Growing Season
                                </label>
                                <div class="enhanced-select-wrapper">
                                    <select id="season" name="season" class="enhanced-select" required>
                                        <option value="">🌤️ Choose growing season...</option>
                                        <option value="Kharif">🌧️ Kharif (June-October)</option>
                                        <option value="Rabi">❄️ Rabi (October-March)</option>
                                        <option value="Zaid">🌱 Zaid (March-June)</option>
                                        <option value="Spring">🌸 Spring (March-May)</option>
                                        <option value="Summer">☀️ Summer (May-August)</option>
                                        <option value="Autumn">🍂 Autumn (September-November)</option>
                                        <option value="Winter">❄️ Winter (December-February)</option>
                                    </select>
                                    <div class="select-arrow">
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Collapsible Location Section -->
                    <div class="form-section">
                        <div class="section-header" onclick="toggleSection('locationSection')">
                            <div class="section-title">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Location Details</span>
                            </div>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        
                        <div class="section-content" id="locationSection">
                            <div class="form-group">
                                <label for="location">
                                    <i class="fas fa-globe"></i> Enter Your Location
                                </label>
                                <div class="enhanced-input-wrapper">
                                    <input type="text" id="location" name="location" class="enhanced-input" 
                                           required placeholder="🏘️ Enter your city, district, or region">
                                    <div class="input-icon">
                                        <i class="fas fa-map-pin"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="enhanced-submit-btn">
                            <div class="btn-content">
                                <i class="fas fa-rocket"></i>
                                <span>Launch AI Analysis</span>
                            </div>
                            <div class="btn-glow"></div>
                        </button>
                    </div>
                </form>

                <div class="loading" id="loading">
                    <div class="loading-container">
                        <div class="ai-brain">
                            <div class="brain-core">🧠</div>
                            <div class="brain-pulse"></div>
                        </div>
                        <div class="loading-text">
                            <span class="loading-word">Initializing</span>
                            <span class="loading-word">AI</span>
                            <span class="loading-word">Analysis</span>
                            <span class="loading-word">Engine</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <div class="loading-stats">
                            <div class="stat-item">
                                <span class="stat-icon">🌱</span>
                                <span class="stat-text">Loading Crop Data</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-icon">🌡️</span>
                                <span class="stat-text">Analyzing Weather</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-icon">🧪</span>
                                <span class="stat-text">Processing Soil Data</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-icon">🎯</span>
                                <span class="stat-text">Generating Predictions</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <div class="features-section">
                <h2 class="features-title">
                    <i class="fas fa-star"></i> Why Choose AgroGPT?
                </h2>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>AI-Powered Insights</h3>
                        <p>Harness advanced AI to analyze your farm data and deliver actionable, personalized recommendations for every season and crop.</p>
                        <div class="feature-highlights">
                            <span class="highlight-item">
                                <i class="fas fa-chart-line"></i>
                                Smart Analytics
                            </span>
                            <span class="highlight-item">
                                <i class="fas fa-lightbulb"></i>
                                Data-Driven Tips
                            </span>
                        </div>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h3>Personalized Recommendations</h3>
                        <p>Get crop, fertilizer, and irrigation suggestions tailored to your location, soil, and weather—maximizing yield and sustainability.</p>
                        <div class="feature-highlights">
                            <span class="highlight-item">
                                <i class="fas fa-map-marker-alt"></i>
                                Location-Based
                            </span>
                            <span class="highlight-item">
                                <i class="fas fa-leaf"></i>
                                Eco-Friendly
                            </span>
                        </div>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3>24/7 Smart Support</h3>
                        <p>Access instant help and expert advice anytime with our AI assistant—always ready to answer your farming questions.</p>
                        <div class="feature-highlights">
                            <span class="highlight-item">
                                <i class="fas fa-clock"></i>
                                Always Available
                            </span>
                            <span class="highlight-item">
                                <i class="fas fa-comments"></i>
                                Friendly Guidance
                            </span>
                        </div>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Real-time Secure & Private</h3>
                        <p>Your data is protected in real time with enterprise-grade encryption and privacy-first technology. Stay secure and confident with every interaction.</p>
                        <div class="feature-highlights">
                            <span class="highlight-item">
                                <i class="fas fa-lock"></i>
                                Data Encryption
                            </span>
                            <span class="highlight-item">
                                <i class="fas fa-user-shield"></i>
                                Privacy First
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h2>
                    <i class="fas fa-rocket"></i> Quick Start Guide
                </h2>

                <div class="info-grid">
                    <div class="info-card">
                        <h3><i class="fas fa-1"></i> Select Your Crop</h3>
                        <p>Choose from our comprehensive database of crops including grains, vegetables, fruits, and more.</p>
                    </div>

                    <div class="info-card">
                        <h3><i class="fas fa-2"></i> Choose Season</h3>
                        <p>Select the appropriate growing season for optimal results and accurate predictions.</p>
                    </div>

                    <div class="info-card">
                        <h3><i class="fas fa-3"></i> Enter Location</h3>
                        <p>Provide your location for region-specific weather and soil analysis.</p>
                    </div>

                    <div class="info-card">
                        <h3><i class="fas fa-4"></i> Get AI Insights</h3>
                        <p>Receive detailed analysis including suitability scores, recommendations, and growing tips.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <div class="footer-logo">
                    <i class="fas fa-seedling"></i>
                    <span>AgroGPT</span>
                </div>
                <p>Revolutionizing agriculture with AI-powered smart farming solutions. Empowering farmers with data-driven insights for better crop management and sustainable farming practices.</p>
            </div>
            <div class="footer-right-group" style="display: flex; gap: 60px; min-width: 350px; margin-left: auto;">
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="/">Home</a></li>
                        <li><a href="/features/">Features</a></li>
                        <li><a href="/gallery/">Gallery</a></li>
                        <li><a href="/facts/">Facts</a></li>
                        <li><a href="/about/">About</a></li>
                        <li><a href="/contact/">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Services</h3>
                    <ul class="footer-links">
                        <li><a href="#">Crop Prediction</a></li>
                        <li><a href="#">Weather Analysis</a></li>
                        <li><a href="#">Soil Health Check</a></li>
                        <li><a href="#">Fertilizer Recommendations</a></li>
                        <li><a href="#">Growing Guides</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p>© 2025 <span>AgroGPT</span>. All rights reserved. | AI-Powered Smart Farming Solutions | Developed by Harsh Bhogal</p>
                <div class="footer-bottom-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Cookie Policy</a>
            </div>
            </div>
        </div>
    </footer>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
        // Advanced Mobile Navigation Toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        const bars = document.querySelectorAll('.bar');

            // Check if elements exist
            if (hamburger && navMenu && bars.length > 0) {
        hamburger.addEventListener('click', () => {
                    console.log('Hamburger clicked!'); // Debug log
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
            
            // Animate hamburger bars
            bars.forEach((bar, index) => {
                if (hamburger.classList.contains('active')) {
                    if (index === 0) bar.style.transform = 'rotate(45deg) translate(5px, 5px)';
                    if (index === 1) bar.style.opacity = '0';
                    if (index === 2) bar.style.transform = 'rotate(-45deg) translate(7px, -6px)';
                } else {
                    bar.style.transform = 'none';
                    bar.style.opacity = '1';
                }
            });
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
            hamburger.classList.remove('active');
            navMenu.classList.remove('active');
            bars.forEach(bar => {
                bar.style.transform = 'none';
                bar.style.opacity = '1';
            });
        }));
            } else {
                console.error('Mobile navigation elements not found:', {
                    hamburger: !!hamburger,
                    navMenu: !!navMenu,
                    bars: bars.length
                });
            }

        // Advanced navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            const scrolled = window.scrollY > 50;
            
            if (scrolled) {
                navbar.style.background = 'rgba(10, 10, 10, 0.98)';
                navbar.style.boxShadow = '0 2px 25px rgba(0, 212, 255, 0.2)';
                navbar.style.borderBottom = '1px solid rgba(0, 212, 255, 0.3)';
            } else {
                navbar.style.background = 'rgba(10, 10, 10, 0.95)';
                navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.3)';
                navbar.style.borderBottom = '1px solid rgba(0, 212, 255, 0.2)';
            }
            });
        });

        // Form submission with loading animation
        document.getElementById('cropForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const form = this;
            const loading = document.getElementById('loading');
            
            // Show loading animation
            form.style.display = 'none';
            loading.style.display = 'block';
            
            // Simulate processing time
            setTimeout(() => {
                form.submit();
            }, 3000);
        });

        // Collapsible Form Sections Toggle
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const header = section.previousElementSibling;
            const isActive = section.classList.contains('active');
            
            // Toggle active class
            section.classList.toggle('active');
            header.classList.toggle('active');
            
            // Animate the toggle icon
            const toggleIcon = header.querySelector('.section-toggle i');
            if (isActive) {
                toggleIcon.style.transform = 'rotate(0deg)';
            } else {
                toggleIcon.style.transform = 'rotate(180deg)';
            }
        }

        // Initialize all sections as expanded by default
        document.addEventListener('DOMContentLoaded', function() {
            const sections = ['cropSection', 'seasonSection', 'locationSection'];
            sections.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                const header = section.previousElementSibling;
                if (section && header) {
                    section.classList.add('active');
                    header.classList.add('active');
                }
            });
        });
    </script>

    <!-- AI Assistant Feature -->
    <div id="ai-assistant" class="ai-assistant">
        <div class="ai-assistant-toggle" onclick="toggleAIAssistant()">
            <i class="fas fa-robot"></i>
            <span>AI Assistant</span>
        </div>
        
        <div class="ai-assistant-panel" id="ai-panel">
            <div class="ai-assistant-header">
                <div class="ai-assistant-title">
                    <i class="fas fa-robot"></i>
                    <span>AgroGPT AI Assistant</span>
                </div>
                <button class="ai-assistant-close" onclick="toggleAIAssistant()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="ai-assistant-messages" id="ai-messages">
                <div class="ai-message ai-bot">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-content">
                        <p>Hello! I'm your AgroGPT AI Assistant. I can help you with:</p>
                        <ul>
                            <li>🌱 Crop recommendations and growing tips</li>
                            <li>🌡️ Weather analysis and predictions</li>
                            <li>🧪 Soil health and fertilizer advice</li>
                            <li>📊 Farming data analysis</li>
                            <li>❓ General agricultural questions</li>
                        </ul>
                        <p>How can I assist you today?</p>
                    </div>
                </div>
            </div>
            
            <div class="ai-assistant-input">
                <input type="text" id="ai-input" placeholder="Ask me anything about farming..." onkeypress="handleAIInput(event)">
                <button onclick="sendAIMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // AI Assistant Functions
        function toggleAIAssistant() {
            const panel = document.getElementById('ai-panel');
            const isVisible = panel.style.display === 'flex' || panel.style.display === 'block';
            panel.style.display = isVisible ? 'none' : 'flex';
        }

        function handleAIInput(event) {
            if (event.key === 'Enter') {
                sendAIMessage();
            }
        }

        function sendAIMessage() {
            const input = document.getElementById('ai-input');
            const message = input.value.trim();
            
            if (message) {
                addUserMessage(message);
                input.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    generateAIResponse(message);
                }, 1000);
            }
        }

        function addUserMessage(message) {
            const messagesContainer = document.getElementById('ai-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'ai-message ai-user';
            messageDiv.innerHTML = `
                <div class="ai-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="ai-content">
                    <p>${message}</p>
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addBotMessage(message) {
            const messagesContainer = document.getElementById('ai-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'ai-message ai-bot';
            messageDiv.innerHTML = `
                <div class="ai-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="ai-content">
                    <p>${message}</p>
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateAIResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();
            let response = '';
            let suggestions = [];

            // Random response style selector (0-3)
            const responseStyle = Math.floor(Math.random() * 4);

            // Comprehensive Agriculture Knowledge Base with varied response styles
            const knowledgeBase = {
                'rice': {
                    detailed: '🌾 **Rice Farming - Complete Guide**\n\n**Step 1: Land Preparation**\n• Plow field 2-3 times\n• Level the field properly\n• Maintain 2-4 inches water level\n\n**Step 2: Seed Selection**\n• Choose certified seeds\n• Popular varieties: IR64, Swarna, Samba\n• Seed rate: 40-50 kg/ha\n\n**Step 3: Planting**\n• Transplant 25-30 days old seedlings\n• Spacing: 20×15 cm\n• Plant 2-3 seedlings per hill\n\n**Step 4: Fertilization**\n• NPK: 120:60:60 kg/ha\n• Apply in 3 splits\n• Use organic manure also\n\n**Step 5: Water Management**\n• Maintain water level\n• Drain before harvesting\n• Use alternate wetting-drying\n\n**Step 6: Pest Control**\n• Stem borer: Use neem oil\n• Bacterial blight: Resistant varieties\n• Blast: Apply fungicides\n\n**Harvest:** 120-150 days\n**Yield:** 4-6 tons/ha',
                    simple: '🌾 **Rice Farming Basics:**\n\nPlant in clay soil with pH 6.0-6.5. Keep 2-4 inches water. Apply NPK 120:60:60 kg/ha. Control weeds. Harvest in 120-150 days. Yield: 4-6 tons/ha.',
                    casual: 'Hey! For rice farming, you need clay soil, lots of water (2-4 inches), and NPK fertilizer. Plant in June-September. Watch out for stem borers - use neem oil. Harvest in 4-5 months. Simple!',
                    direct: 'Rice: Clay soil, pH 6.0-6.5, water 2-4 inches, NPK 120:60:60 kg/ha, harvest 120-150 days, yield 4-6 tons/ha.'
                },
                'wheat': {
                    detailed: '🌾 **Wheat Farming - Step by Step**\n\n**Step 1: Soil Preparation**\n• Well-drained loamy soil\n• pH: 6.0-7.5\n• Plow 2-3 times\n• Level the field\n\n**Step 2: Seed Selection**\n• Choose high-yielding varieties\n• Popular: HD2967, PBW343, DBW17\n• Seed rate: 100-125 kg/ha\n\n**Step 3: Sowing**\n• Time: October-November\n• Method: Line sowing\n• Spacing: 22.5 cm rows\n• Depth: 4-5 cm\n\n**Step 4: Fertilization**\n• Nitrogen: 120-150 kg/ha\n• Phosphorus: 60-80 kg/ha\n• Potassium: 40-60 kg/ha\n• Apply in splits\n\n**Step 5: Irrigation**\n• Critical stages: Crown root, tillering, jointing, flowering\n• Total water: 400-500mm\n• Avoid waterlogging\n\n**Step 6: Disease Control**\n• Rust: Use resistant varieties\n• Powdery mildew: Apply fungicides\n• Aphids: Systemic insecticides\n\n**Harvest:** 140-160 days\n**Yield:** 4-5 tons/ha',
                    simple: '🌾 **Wheat Farming:**\n\nPlant in October-November. Use loamy soil, pH 6.0-7.5. Apply NPK 150:75:75 kg/ha. Irrigate at critical stages. Control rust and aphids. Harvest in 5-6 months.',
                    casual: 'Wheat is easy! Plant in October-November when it\'s cool. Use good soil, add fertilizer, water properly. Watch for rust disease. Harvest in 5-6 months. That\'s it!',
                    direct: 'Wheat: October-November planting, loamy soil, NPK 150:75:75 kg/ha, 5-6 months harvest, yield 4-5 tons/ha.'
                },
                'maize': {
                    detailed: '🌽 **Maize Farming - Complete Process**\n\n**Step 1: Land Preparation**\n• Deep plowing required\n• Well-drained soil\n• pH: 6.0-7.0\n• Rich in organic matter\n\n**Step 2: Seed Selection**\n• Choose hybrid varieties\n• Popular: NK6240, Pioneer, Syngenta\n• Seed rate: 20-25 kg/ha\n\n**Step 3: Planting**\n• Time: June-July (Kharif)\n• Spacing: 60cm × 20cm\n• Depth: 3-5cm\n• Plant 2 seeds per hill\n\n**Step 4: Fertilization**\n• NPK: 150:75:75 kg/ha\n• Apply nitrogen in 3 splits\n• Use organic manure\n\n**Step 5: Irrigation**\n• Critical stages: Silking, tasseling\n• Maintain soil moisture\n• Avoid water stress\n\n**Step 6: Pest Control**\n• Corn borer: Use Bt varieties\n• Aphids: Apply neem oil\n• Army worms: Pheromone traps\n\n**Harvest:** 90-120 days\n**Yield:** 6-8 tons/ha',
                    simple: '🌽 **Maize Farming:**\n\nPlant in June-July. Use deep soil, pH 6.0-7.0. Apply NPK 150:75:75 kg/ha. Water at silking stage. Control corn borer. Harvest in 3-4 months.',
                    casual: 'Maize is fun to grow! Plant in June-July when it rains. Use deep soil, add fertilizer, water when it flowers. Watch for corn borers. Harvest in 3-4 months. Easy!',
                    direct: 'Maize: June-July planting, deep soil, NPK 150:75:75 kg/ha, 3-4 months harvest, yield 6-8 tons/ha.'
                },
                'soil': {
                    detailed: '🌱 **Soil Health - Complete Guide**\n\n**Step 1: Soil Testing**\n• Test pH, NPK levels\n• Check organic matter\n• Analyze micronutrients\n• Test every 2-3 years\n\n**Step 2: Soil Types**\n• Sandy: Good drainage, low fertility\n• Clay: High fertility, poor drainage\n• Loamy: Ideal for most crops\n• Black: Rich in minerals\n\n**Step 3: pH Management**\n• Acidic soil (pH < 6): Add lime\n• Alkaline soil (pH > 7.5): Add gypsum\n• Ideal pH: 6.0-7.0\n\n**Step 4: Organic Matter**\n• Add compost regularly\n• Use green manure crops\n• Apply farmyard manure\n• Vermicompost application\n\n**Step 5: Nutrient Management**\n• Nitrogen: For leaf growth\n• Phosphorus: For root development\n• Potassium: For disease resistance\n• Micronutrients: Zinc, Boron\n\n**Step 6: Conservation**\n• Contour farming\n• Terracing\n• Mulching\n• Cover cropping',
                    simple: '🌱 **Soil Health:**\n\nTest soil every 2-3 years. Add organic matter (compost, manure). Manage pH (6.0-7.0). Use crop rotation. Apply balanced fertilizers. Practice conservation.',
                    casual: 'Good soil is everything! Test it regularly, add lots of organic stuff like compost. Keep pH around 6-7. Rotate crops. That\'s the secret to good farming!',
                    direct: 'Soil: Test every 2-3 years, add organic matter, pH 6.0-7.0, crop rotation, balanced fertilization.'
                },
                'fertilizer': {
                    detailed: '🧪 **Fertilizer Management - Complete Guide**\n\n**Step 1: Soil Testing**\n• Test NPK levels first\n• Check pH and organic matter\n• Analyze micronutrients\n• Plan based on results\n\n**Step 2: Fertilizer Types**\n• **Organic:** Compost, manure, vermicompost\n• **Inorganic:** NPK, Urea, DAP\n• **Biofertilizers:** Rhizobium, Azotobacter\n\n**Step 3: Application Methods**\n• Broadcasting: Even distribution\n• Band placement: Near roots\n• Foliar: Spray on leaves\n• Fertigation: Through water\n\n**Step 4: Best Practices**\n• Apply based on soil test\n• Split nitrogen application\n• Apply at right time\n• Avoid over-application\n• Mix organic + inorganic\n\n**Step 5: Common Ratios**\n• Rice: 120:60:60 kg/ha NPK\n• Wheat: 150:75:75 kg/ha NPK\n• Maize: 150:75:75 kg/ha NPK\n\n**Step 6: Timing**\n• Apply at planting\n• Top dress during growth\n• Foliar feed if needed',
                    simple: '🧪 **Fertilizer Guide:**\n\nTest soil first. Use organic + inorganic mix. Apply NPK based on crop needs. Split nitrogen application. Apply at right time. Avoid over-use.',
                    casual: 'Fertilizers are like food for plants! Test your soil first, then mix organic and chemical fertilizers. Apply at the right time. Don\'t overdo it. Simple!',
                    direct: 'Fertilizer: Test soil, organic + inorganic mix, apply NPK based on crop, split nitrogen, avoid over-application.'
                },
                'pest': {
                    detailed: '🦗 **Pest Management - IPM Approach**\n\n**Step 1: Monitoring**\n• Regular field inspection\n• Use pheromone traps\n• Monitor pest populations\n• Keep records\n\n**Step 2: Cultural Control**\n• Crop rotation\n• Resistant varieties\n• Proper spacing\n• Field sanitation\n• Timely operations\n\n**Step 3: Biological Control**\n• Natural predators\n• Parasitic wasps\n• Beneficial insects\n• Microbial pesticides\n• Neem-based products\n\n**Step 4: Physical Control**\n• Light traps\n• Yellow sticky traps\n• Barriers and nets\n• Hand picking\n• Mechanical weeding\n\n**Step 5: Chemical Control**\n• Use as last resort\n• Choose selective pesticides\n• Follow safety guidelines\n• Rotate chemicals\n• Apply at right time\n\n**Step 6: Integration**\n• Combine all methods\n• Monitor effectiveness\n• Adjust strategies\n• Keep learning',
                    simple: '🦗 **Pest Control:**\n\nMonitor regularly. Use crop rotation and resistant varieties. Release beneficial insects. Use neem products. Apply chemicals only when needed.',
                    casual: 'Pests are tricky! Monitor your field regularly, rotate crops, use resistant varieties. Release good bugs, use neem. Only use chemicals when really needed. That\'s the way!',
                    direct: 'Pest control: Monitor, crop rotation, resistant varieties, beneficial insects, neem products, chemicals last resort.'
                }
            };

            // Enhanced response generation with varied styles
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                const greetings = [
                    '👋 **Hello! I\'m your AgroGPT AI Assistant.**\n\nI\'m here to help you with comprehensive agricultural guidance including:\n\n🌱 **Crop Management** - Rice, Wheat, Maize, Cotton, Sugarcane, Pulses, Vegetables, Fruits\n🧪 **Soil & Fertilizer** - Soil health, testing, organic/inorganic fertilizers\n💧 **Irrigation** - Water management, drip systems, scheduling\n🦗 **Pest Control** - IPM, natural methods, disease management\n🌤️ **Weather** - Climate adaptation, forecasting\n🌿 **Organic Farming** - Natural methods, certification\n📱 **Technology** - Modern farming tools, precision agriculture\n💰 **Marketing** - Value addition, digital marketing\n💳 **Finance** - Loans, insurance, government schemes\n🏪 **Storage** - Post-harvest management\n\n**Ask me anything about farming!** What would you like to know?',
                    'Hey there! 👋 I\'m your farming buddy - AgroGPT AI Assistant!\n\nI know everything about farming - crops, soil, pests, weather, you name it! Just ask me anything about agriculture and I\'ll help you out.\n\nWhat\'s on your mind today?',
                    'Hi! 👋 I\'m here to help with your farming questions.\n\nCrops, soil, pests, weather - I know it all. Just ask!',
                    'Hello! 👋 Farming assistant here. What do you need help with today?'
                ];
                response = greetings[responseStyle];
                suggestions = ['Tell me about rice farming', 'How to improve soil health?', 'Best irrigation methods', 'Organic farming guide'];
            } else {
                // Check for specific topics with varied response styles
                let found = false;
                for (const [topic, data] of Object.entries(knowledgeBase)) {
                    if (lowerMessage.includes(topic)) {
                        if (responseStyle === 0) response = data.detailed;
                        else if (responseStyle === 1) response = data.simple;
                        else if (responseStyle === 2) response = data.casual;
                        else response = data.direct;
                        suggestions = ['How to increase yield?', 'Best varieties', 'Pest control methods'];
                        found = true;
                        break;
                    }
                }

                // Check for specific questions with varied responses
                if (!found) {
                    if (lowerMessage.includes('yield') || lowerMessage.includes('production')) {
                        const yieldResponses = [
                            '📈 **Yield Improvement - Complete Guide:**\n\n**Step 1: Soil Management**\n• Test soil every 2-3 years\n• Add organic matter regularly\n• Maintain proper pH (6.0-7.0)\n• Apply micronutrients\n\n**Step 2: Crop Management**\n• Select high-yielding varieties\n• Use optimal planting density\n• Practice timely operations\n• Implement crop rotation\n\n**Step 3: Nutrient Management**\n• Apply balanced fertilizers\n• Split nitrogen application\n• Use foliar feeding\n• Add micronutrients\n\n**Step 4: Water Management**\n• Use efficient irrigation\n• Improve drainage\n• Practice water conservation\n• Choose drought-resistant varieties\n\n**Step 5: Pest Management**\n• Follow IPM approach\n• Monitor regularly\n• Use preventive measures\n• Release beneficial insects',
                            '📈 **Increase Yield:**\n\nGood soil + right varieties + proper fertilizer + water management + pest control = higher yield!',
                            'Want more yield? Test your soil, use good seeds, add fertilizer, water properly, control pests. Simple!',
                            'Yield: Soil test, good varieties, balanced fertilizer, proper irrigation, pest control.'
                        ];
                        response = yieldResponses[responseStyle];
                        suggestions = ['How to increase rice yield?', 'Best fertilizers for wheat', 'Water management for crops'];
                    } else if (lowerMessage.includes('disease') || lowerMessage.includes('sick')) {
                        const diseaseResponses = [
                            '🏥 **Crop Disease Management:**\n\n**Step 1: Identification**\n• Learn common diseases\n• Check symptoms carefully\n• Use field guides\n• Consult experts\n\n**Step 2: Prevention**\n• Use resistant varieties\n• Practice crop rotation\n• Treat seeds properly\n• Maintain field hygiene\n• Apply balanced nutrition\n\n**Step 3: Control Methods**\n• Cultural practices\n• Biological control\n• Chemical treatment\n• Integrated approach\n\n**Step 4: Monitoring**\n• Regular field inspection\n• Early detection\n• Proper identification\n• Timely action',
                            '🏥 **Disease Control:**\n\nUse resistant varieties, crop rotation, seed treatment, field hygiene, balanced nutrition.',
                            'Diseases? Use resistant varieties, rotate crops, treat seeds, keep field clean. Easy!',
                            'Disease control: Resistant varieties, crop rotation, seed treatment, field hygiene.'
                        ];
                        response = diseaseResponses[responseStyle];
                        suggestions = ['How to identify crop diseases?', 'Natural disease control', 'Resistant crop varieties'];
                    } else if (lowerMessage.includes('profit') || lowerMessage.includes('income') || lowerMessage.includes('money')) {
                        const profitResponses = [
                            '💰 **Profit Maximization - Complete Strategy:**\n\n**Step 1: Cost Reduction**\n• Use resources efficiently\n• Buy inputs in bulk\n• Optimize labor use\n• Adopt technology\n\n**Step 2: Value Addition**\n• Process and package\n• Develop brands\n• Direct marketing\n• Improve quality\n\n**Step 3: Market Strategies**\n• Research markets\n• Monitor prices\n• Time your sales\n• Use multiple channels\n\n**Step 4: Diversification**\n• Grow multiple crops\n• Add livestock\n• Start agro-tourism\n• Create value-added products\n\n**Step 5: Government Support**\n• Use subsidies\n• Get insurance\n• Access credit\n• Join training programs',
                            '💰 **More Profit:**\n\nReduce costs, add value, market smart, diversify, use government schemes.',
                            'Want more money? Reduce costs, add value to products, market smart, grow different things, use government help!',
                            'Profit: Reduce costs, add value, smart marketing, diversify, government schemes.'
                        ];
                        response = profitResponses[responseStyle];
                        suggestions = ['High-profit crops', 'Value addition ideas', 'Government schemes for farmers'];
                    } else {
                        const generalResponses = [
                            '🤔 **I understand your question about agriculture!**\n\nWhile I have comprehensive knowledge about farming, I\'d love to help you more specifically. Could you please ask about:\n\n🌱 **Specific crops** (rice, wheat, maize, cotton, sugarcane, pulses, vegetables, fruits)\n🧪 **Soil and fertilizers** (soil health, testing, organic/inorganic fertilizers)\n💧 **Irrigation and water management**\n🦗 **Pest and disease control**\n🌤️ **Weather and climate adaptation**\n🌿 **Organic farming methods**\n📱 **Modern farming technology**\n💰 **Marketing and finance**\n🏪 **Storage and post-harvest management**\n\n**What specific aspect of farming would you like to know more about?**',
                            '🤔 **I can help with farming questions!**\n\nAsk about specific crops, soil, fertilizers, irrigation, pests, weather, organic farming, technology, marketing, or storage.',
                            'I know farming stuff! Ask about crops, soil, pests, weather, organic farming, technology, marketing, storage.',
                            'Farming help: crops, soil, pests, weather, organic, technology, marketing, storage.'
                        ];
                        response = generalResponses[responseStyle];
                        suggestions = ['Tell me about rice farming', 'How to improve soil health?', 'Best irrigation methods', 'Organic farming guide'];
                    }
                }
            }

            addBotMessage(response);
            
            // Add suggestions if available (sometimes skip for variety)
            if (suggestions.length > 0 && Math.random() > 0.3) {
                setTimeout(() => {
                    addBotMessage('💡 **Related Questions You Might Ask:**\n\n' + suggestions.map(s => '• ' + s).join('\n'));
                }, 1000);
            }
        }
    </script>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <div class="modal-header">
                <h2>Welcome Back</h2>
                <p>Sign in to your AgroGPT account</p>
            </div>
            
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginUsername">Username or Email</label>
                        <input type="text" id="loginUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Remember me
                        </label>
                        <a href="#" onclick="showForgotPassword()" class="forgot-link">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn-primary">Sign In</button>
                </form>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <button class="btn-secondary" onclick="showSignup()">
                    Create New Account
                </button>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signupModal')">&times;</span>
            <div class="modal-header">
                <h2>Create Account</h2>
                <p>Join AgroGPT for smart farming</p>
            </div>
            
            <div class="modal-body">
                <form id="signupForm">
                    <div class="form-group">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Email Address</label>
                        <input type="email" id="signupEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="signupUsername">Username</label>
                        <input type="text" id="signupUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="signupConfirmPassword">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" required>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTerms" required>
                            <span class="checkmark"></span>
                            I agree to the Terms & Conditions
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">Create Account</button>
                </form>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <button class="btn-secondary" onclick="showLogin()">
                    Already have an account? Sign In
                </button>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('forgotPasswordModal')">&times;</span>
            <div class="modal-header">
                <h2>Reset Password</h2>
                <p>Enter your email to receive reset instructions</p>
            </div>
            
            <div class="modal-body">
                <form id="forgotPasswordForm">
                    <div class="form-group">
                        <label for="resetEmail">Email Address</label>
                        <input type="email" id="resetEmail" required>
                    </div>
                    <button type="submit" class="btn-primary">Send Reset Link</button>
                </form>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <button class="btn-secondary" onclick="showLogin()">
                    Back to Sign In
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content settings-modal">
            <span class="close" onclick="closeModal('settingsModal')">&times;</span>
            <div class="modal-header">
                <h2>Settings</h2>
                <p>Customize your AgroGPT experience</p>
            </div>
            
            <div class="modal-body">
                <div class="settings-tabs">
                    <button class="tab-btn active" onclick="showTab('profile')">Profile</button>
                    <button class="tab-btn" onclick="showTab('location')">Location</button>
                    <button class="tab-btn" onclick="showTab('notifications')">Notifications</button>
                    <button class="tab-btn" onclick="showTab('appearance')">Appearance</button>
                    <button class="tab-btn" onclick="showTab('security')">Security</button>
                    <button class="tab-btn" onclick="showTab('privacy')">Privacy</button>
                </div>
                
                <!-- Profile Settings -->
                <div id="profileTab" class="tab-content active">
                    <div class="settings-section">
                        <h3>Profile Settings</h3>
                        <div class="form-group">
                            <label for="displayName">Display Name</label>
                            <input type="text" id="displayName" value="Farmer User" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userEmail">Email</label>
                            <input type="email" id="userEmail" value="farmer@example.com" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userPhone">Phone Number</label>
                            <input type="tel" id="userPhone" value="+91 98765 43210" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userBio">Bio</label>
                            <textarea id="userBio" class="white-input" rows="3" placeholder="Tell us about your farming experience...">Experienced farmer with 10+ years in organic farming</textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Location Settings -->
                <div id="locationTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Location Settings</h3>
                        <div class="form-group">
                            <label for="defaultLocation">Default Location</label>
                            <input type="text" id="defaultLocation" value="Mumbai, Maharashtra" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userTimezone">Timezone</label>
                            <select id="userTimezone" class="white-input">
                                <option value="Asia/Kolkata" selected>Asia/Kolkata (UTC+5:30)</option>
                                <option value="Asia/Delhi">Asia/Delhi (UTC+5:30)</option>
                                <option value="Asia/Mumbai">Asia/Mumbai (UTC+5:30)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="farmSize">Farm Size (acres)</label>
                            <input type="number" id="farmSize" value="25" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="soilType">Primary Soil Type</label>
                            <select id="soilType" class="white-input">
                                <option value="clay">Clay</option>
                                <option value="loam" selected>Loam</option>
                                <option value="sandy">Sandy</option>
                                <option value="silt">Silt</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Notifications Settings -->
                <div id="notificationsTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Notification Preferences</h3>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="emailNotif" checked>
                                <span class="checkmark"></span>
                                Email Notifications
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="weatherAlerts" checked>
                                <span class="checkmark"></span>
                                Weather Alerts
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="cropReminders" checked>
                                <span class="checkmark"></span>
                                Crop Care Reminders
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="marketUpdates">
                                <span class="checkmark"></span>
                                Market Price Updates
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Appearance Settings -->
                <div id="appearanceTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Appearance Settings</h3>
                        <div class="form-group">
                            <label for="themeSelect">Theme</label>
                            <select id="themeSelect" class="white-input">
                                <option value="dark" selected>Dark Theme</option>
                                <option value="light">Light Theme</option>
                                <option value="auto">Auto (System)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="fontSize">Font Size</label>
                            <select id="fontSize" class="white-input">
                                <option value="small">Small</option>
                                <option value="medium" selected>Medium</option>
                                <option value="large">Large</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="animations" checked>
                                <span class="checkmark"></span>
                                Enable Animations
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Security Settings -->
                <div id="securityTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Security Settings</h3>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="twoFactorAuth">
                                <span class="checkmark"></span>
                                Two-Factor Authentication
                            </label>
                </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="sessionTimeout" checked>
                                <span class="checkmark"></span>
                                Auto Logout (30 minutes)
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="loginNotifications" checked>
                                <span class="checkmark"></span>
                                Login Notifications
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Privacy Settings -->
                <div id="privacyTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Privacy & Data Protection</h3>
                        <div class="privacy-info">
                            <div class="privacy-alert">
                                <i class="fas fa-shield-alt"></i>
                                <strong>Your Privacy is Protected</strong>
                                <p>AgroGPT does not store or share your data externally. All data is stored locally and encrypted.</p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="dataCollection" checked>
                                <span class="checkmark"></span>
                                Allow local data collection for personalized experience
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="analytics" checked>
                                <span class="checkmark"></span>
                                Share anonymous usage analytics (no personal data)
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="autoClear" checked>
                                <span class="checkmark"></span>
                                Auto-clear data on logout
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="sessionTimeout" checked>
                                <span class="checkmark"></span>
                                Auto-logout after 10 minutes of inactivity
                            </label>
                        </div>
                        
                        <div class="privacy-actions">
                            <button class="btn-warning" onclick="clearAllData()">
                                <i class="fas fa-trash-alt"></i> Clear All My Data
                            </button>
                            <button class="btn-secondary" onclick="exportUserData()">
                                <i class="fas fa-download"></i> Export My Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* Enhanced Modal Styles with Advanced Effects */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.95) 0%, 
                rgba(26, 26, 46, 0.98) 25%, 
                rgba(22, 33, 62, 0.97) 50%, 
                rgba(15, 52, 96, 0.96) 75%, 
                rgba(0, 0, 0, 0.95) 100%);
            backdrop-filter: blur(15px);
            animation: modalFadeIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
                transform: scale(1.1);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(15px);
                transform: scale(1);
            }
        }

        .modal-content {
            background: linear-gradient(145deg, 
                rgba(26, 26, 46, 0.95) 0%, 
                rgba(22, 33, 62, 0.9) 30%, 
                rgba(15, 52, 96, 0.85) 70%, 
                rgba(10, 10, 10, 0.9) 100%);
            margin: 2% auto;
            padding: 0;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 25px;
            width: 90%;
            max-width: 580px;
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.7),
                0 0 120px rgba(0, 212, 255, 0.15),
                0 0 200px rgba(255, 119, 200, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                inset 0 -1px 0 rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, 
                #00d4ff, #ff77c8, #00ff88, #ff6b6b, #00d4ff);
            background-size: 300% 100%;
            animation: gradientShift 4s ease-in-out infinite;
        }

        .modal-content::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 200, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(0, 255, 136, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            25% { background-position: 50% 50%; }
            50% { background-position: 100% 50%; }
            75% { background-position: 50% 50%; }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-80px) scale(0.85) rotateX(10deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1) rotateX(0deg);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, 
                rgba(15, 52, 96, 0.9) 0%, 
                rgba(22, 33, 62, 0.8) 50%, 
                rgba(26, 26, 46, 0.9) 100%);
            color: #00d4ff;
            padding: 30px 35px;
            border-radius: 23px 23px 0 0;
            text-align: center;
            border-bottom: 1px solid rgba(0, 212, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, rgba(0, 212, 255, 0.1), transparent);
            animation: headerShine 3s ease-in-out infinite;
        }

        @keyframes headerShine {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        .modal-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent, rgba(0, 212, 255, 0.6), rgba(255, 119, 200, 0.6), transparent);
        }

        .modal-header h2 {
            margin: 0 0 12px;
            font-size: 1.6em;
            text-shadow: 0 0 15px rgba(0, 212, 255, 0.6);
            font-weight: 700;
            letter-spacing: 0.5px;
            position: relative;
            z-index: 1;
        }

        .modal-header p {
            margin: 0;
            color: #b8b8b8;
            font-size: 15px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .close {
            position: absolute;
            top: 25px;
            right: 25px;
            color: #b8b8b8;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 2;
        }

        .close:hover {
            color: #ff77c8;
            background: rgba(255, 119, 200, 0.15);
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 0 25px rgba(255, 119, 200, 0.4);
            border-color: rgba(255, 119, 200, 0.3);
        }

        .modal-body {
            padding: 35px;
            max-height: 70vh;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.4) transparent;
        }

        .modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, 
                rgba(0, 212, 255, 0.4), rgba(255, 119, 200, 0.4));
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-body::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, 
                rgba(0, 212, 255, 0.6), rgba(255, 119, 200, 0.6));
        }

        /* Enhanced Form Styles */
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #ffffff;
            font-weight: 600;
            font-size: 15px;
            letter-spacing: 0.3px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px 18px;
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            color: #ffffff;
            font-size: 16px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(10px);
            position: relative;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .white-input {
            background: rgba(255, 255, 255, 0.12) !important;
            border: 2px solid rgba(255, 255, 255, 0.25) !important;
            color: #ffffff !important;
        }

        .white-input:focus {
            border-color: #00ff88;
            box-shadow: 0 0 0 4px rgba(0, 255, 136, 0.15);
            outline: none;
            background: rgba(255, 255, 255, 0.15) !important;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #00d4ff;
            box-shadow: 0 0 0 4px rgba(0, 212, 255, 0.15);
            outline: none;
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-2px);
        }

        /* Enhanced Button Styles */
        .btn-primary {
            width: 100%;
            padding: 16px 24px;
            background: linear-gradient(135deg, 
                #00ff88 0%, #00cc6a 50%, #00aa55 100%);
            border: none;
            border-radius: 12px;
            color: #1a1a1a;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            margin-bottom: 18px;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 255, 136, 0.5);
            background: linear-gradient(135deg, 
                #00ff88 0%, #00ffaa 50%, #00ff88 100%);
        }

        .btn-primary:active {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(0, 255, 136, 0.4);
        }

        .btn-secondary {
            width: 100%;
            padding: 14px 24px;
            background: transparent;
            border: 2px solid #00ff88;
            border-radius: 12px;
            color: #00ff88;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.3px;
        }

        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, rgba(0, 255, 136, 0.1), transparent);
            transition: left 0.6s;
        }

        .btn-secondary:hover::before {
            left: 100%;
        }

        .btn-secondary:hover {
            background: rgba(0, 255, 136, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.3);
            border-color: #00ffaa;
        }

        /* Enhanced Form Options */
        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Enhanced Checkbox and Form Elements */
        .checkbox-label {
            display: flex;
            align-items: center;
            color: #ffffff;
            font-size: 15px;
            cursor: pointer;
            padding: 8px 0;
            transition: all 0.3s ease;
            position: relative;
        }

        .checkbox-label:hover {
            color: #00ff88;
            transform: translateX(5px);
        }

        .checkbox-label input {
            display: none;
        }

        .checkmark {
            width: 22px;
            height: 22px;
            border: 2px solid rgba(0, 255, 136, 0.4);
            border-radius: 6px;
            margin-right: 12px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
        }

        .checkbox-label:hover .checkmark {
            border-color: rgba(0, 255, 136, 0.6);
            background: rgba(0, 255, 136, 0.1);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
        }

        .checkbox-label input:checked + .checkmark {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
            transform: scale(1.1);
        }

        .checkbox-label input:checked + .checkmark::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #1a1a1a;
            font-size: 14px;
            font-weight: bold;
            animation: checkmarkAppear 0.3s ease-in-out;
        }

        @keyframes checkmarkAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .forgot-link {
            color: #00ff88;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 5px 0;
        }

        .forgot-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #00ff88, #00cc6a);
            transition: width 0.3s ease;
        }

        .forgot-link:hover {
            color: #00cc6a;
            text-shadow: 0 0 8px rgba(0, 255, 136, 0.3);
        }

        .forgot-link:hover::after {
            width: 100%;
        }

        /* Enhanced Divider */
        .divider {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent, rgba(255, 255, 255, 0.2), transparent);
        }

        .divider span {
            background: linear-gradient(135deg, 
                rgba(26, 26, 46, 0.9) 0%, 
                rgba(22, 33, 62, 0.9) 100%);
            padding: 0 20px;
            color: #cccccc;
            font-size: 15px;
            font-weight: 500;
            letter-spacing: 0.5px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Enhanced Settings Modal */
        .settings-modal {
            max-width: 650px;
        }

        .settings-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px 12px 0 0;
            overflow: hidden;
        }

        .tab-btn {
            flex: 1;
            padding: 16px 20px;
            background: transparent;
            border: none;
            color: #cccccc;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-bottom: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, rgba(0, 255, 136, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn.active {
            color: #00ff88;
            border-bottom-color: #00ff88;
            background: rgba(0, 255, 136, 0.05);
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }

        .tab-btn:hover {
            color: #00ff88;
            background: rgba(0, 255, 136, 0.03);
        }

        .tab-content {
            display: none;
            animation: tabFadeIn 0.4s ease-in-out;
        }

        @keyframes tabFadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tab-content.active {
            display: block;
        }

        .settings-section {
            margin-bottom: 35px;
            padding: 30px;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.08) 0%, 
                rgba(255, 255, 255, 0.03) 50%, 
                rgba(0, 212, 255, 0.02) 100%);
            border-radius: 18px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(10px);
        }

        .settings-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .settings-section:hover::before {
            left: 100%;
        }

        .settings-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.25);
            border-color: rgba(0, 212, 255, 0.4);
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 50%, 
                rgba(0, 212, 255, 0.03) 100%);
        }

        .settings-section h3 {
            color: #00ff88;
            margin-bottom: 25px;
            font-size: 20px;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }

        .settings-actions {
            display: flex;
            gap: 20px;
            margin-top: 35px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
        }

        .settings-actions .btn-primary,
        .settings-actions .btn-secondary {
            flex: 1;
            margin: 0;
        }

        /* Enhanced Success Animation */
        .success-animation {
            animation: successPulse 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes successPulse {
            0% { 
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 255, 136, 0.7);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(0, 255, 136, 0);
            }
            100% { 
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 255, 136, 0);
            }
        }

        /* Enhanced Select Styles */
        .form-group select {
            width: 100%;
            padding: 15px 18px;
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            color: #ffffff;
            font-size: 16px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .form-group select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 4px rgba(0, 212, 255, 0.15);
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-2px);
        }

        .form-group select option {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: #ffffff;
            padding: 10px;
        }

        /* Loading Animation for Buttons */
        .btn-loading {
            position: relative;
            overflow: hidden;
        }

        .btn-loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
            width: 100%;
        }

        .modal-footer a:hover {
            color: #ff77c8;
            text-shadow: 0 0 8px rgba(255, 119, 200, 0.5);
        }

        .btn-secondary {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(255, 119, 200, 0.1) 100%);
            border: 2px solid rgba(0, 212, 255, 0.3);
            color: #b8b8b8;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(255, 119, 200, 0.2) 100%);
            color: #00d4ff;
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.2);
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            color: #b8b8b8;
            font-size: 14px;
            padding: 8px 0;
            transition: all 0.3s ease;
        }

        .checkbox-label:hover {
            color: #00d4ff;
        }

        .checkbox-label input[type="checkbox"] {
            width: auto;
            margin: 0;
            opacity: 0;
            position: absolute;
        }

        .checkmark {
            width: 22px;
            height: 22px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(0, 212, 255, 0.4);
            border-radius: 6px;
            display: inline-block;
            position: relative;
            transition: all 0.3s ease;
        }

        .checkbox-label:hover .checkmark {
            border-color: rgba(0, 212, 255, 0.6);
            background: rgba(0, 212, 255, 0.1);
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            border-color: #00d4ff;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000;
            font-size: 14px;
            font-weight: bold;
        }

        /* Enhanced form styling */
        .form-group select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .form-group select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            background: rgba(255, 255, 255, 0.12);
        }

        .form-group select option {
            background: #1a1a2e;
            color: #fff;
        }

        /* Success animation */
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .success-animation {
            animation: successPulse 0.5s ease-in-out;
        }
    </style>

    <script>
        // Enhanced Modal Functions with Advanced Animations
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            const modalContent = modal.querySelector('.modal-content');
            
            // Reset any previous animations
            modalContent.style.transform = 'translateY(-80px) scale(0.85) rotateX(10deg)';
            modalContent.style.opacity = '0';
            
            modal.style.display = 'flex';
            modal.style.opacity = '0';
            
            // Animate backdrop
            setTimeout(() => {
                modal.style.opacity = '1';
            }, 10);
            
            // Animate modal content with staggered timing
            setTimeout(() => {
                modalContent.style.transform = 'translateY(0) scale(1) rotateX(0deg)';
                modalContent.style.opacity = '1';
            }, 100);
            
            // Add entrance effects
            addModalEntranceEffects(modalId);
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            const modalContent = modal.querySelector('.modal-content');
            
            // Animate modal content out
            modalContent.style.transform = 'translateY(-80px) scale(0.85) rotateX(10deg)';
            modalContent.style.opacity = '0';
            
            // Animate backdrop out
            modal.style.opacity = '0';
            
            setTimeout(() => {
                modal.style.display = 'none';
                // Reset for next open
                modalContent.style.transform = '';
                modalContent.style.opacity = '';
            }, 400);
        }

        function addModalEntranceEffects(modalId) {
            const modal = document.getElementById(modalId);
            const formGroups = modal.querySelectorAll('.form-group');
            
            // Stagger form group animations
            formGroups.forEach((group, index) => {
                group.style.opacity = '0';
                group.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    group.style.transition = 'all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    group.style.opacity = '1';
                    group.style.transform = 'translateY(0)';
                }, 200 + (index * 100));
            });
            
            // Animate buttons
            const buttons = modal.querySelectorAll('button');
            buttons.forEach((button, index) => {
                button.style.opacity = '0';
                button.style.transform = 'translateY(15px)';
                
                setTimeout(() => {
                    button.style.transition = 'all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    button.style.opacity = '1';
                    button.style.transform = 'translateY(0)';
                }, 400 + (index * 100));
            });
        }

        function showSignup() {
            closeModal('loginModal');
            setTimeout(() => {
                openModal('signupModal');
            }, 400);
        }

        function showLogin() {
            closeModal('signupModal');
            closeModal('forgotPasswordModal');
            setTimeout(() => {
                openModal('loginModal');
            }, 400);
        }

        function showForgotPassword() {
            closeModal('loginModal');
            setTimeout(() => {
                openModal('forgotPasswordModal');
            }, 400);
        }

        // Enhanced Settings Tab Functions
        function showTab(tabName) {
            // Hide all tab contents with fade out
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                if (content.classList.contains('active')) {
                    content.style.opacity = '0';
                    content.style.transform = 'translateY(10px)';
                    setTimeout(() => {
                        content.classList.remove('active');
                    }, 200);
                }
            });
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab content with fade in
            setTimeout(() => {
                const targetTab = document.getElementById(tabName + 'Tab');
                targetTab.classList.add('active');
                targetTab.style.opacity = '0';
                targetTab.style.transform = 'translateY(10px)';
                
                setTimeout(() => {
                    targetTab.style.opacity = '1';
                    targetTab.style.transform = 'translateY(0)';
                }, 50);
            }, 200);
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Enhanced Form Submissions with Better UX
        document.addEventListener('DOMContentLoaded', function() {
            // Login Form
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const username = document.getElementById('loginUsername').value;
                    const password = document.getElementById('loginPassword').value;
                    
                    if (!username || !password) {
                        showNotification('Please fill in all fields', 'error');
                        return;
                    }
                    
                    // Enhanced loading state
                    const submitBtn = this.querySelector('.btn-primary');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Signing In...';
                    submitBtn.classList.add('btn-loading');
                    submitBtn.disabled = true;
                    
                    // Simulate login process with realistic timing
                    setTimeout(() => {
                        submitBtn.textContent = 'Welcome Back!';
                        submitBtn.classList.remove('btn-loading');
                        submitBtn.classList.add('success-animation');
                        
                        setTimeout(() => {
                            showNotification('Login successful! Welcome back, ' + username, 'success');
                            submitBtn.textContent = originalText;
                            submitBtn.classList.remove('success-animation');
                            submitBtn.disabled = false;
                            closeModal('loginModal');
                            updateUserProfile(username);
                        }, 1000);
                    }, 1500);
                });
            }
            
            // Signup Form
            const signupForm = document.getElementById('signupForm');
            if (signupForm) {
                signupForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const name = document.getElementById('signupName').value;
                    const email = document.getElementById('signupEmail').value;
                    const username = document.getElementById('signupUsername').value;
                    const password = document.getElementById('signupPassword').value;
                    const confirmPassword = document.getElementById('signupConfirmPassword').value;
                    
                    if (!name || !email || !username || !password) {
                        showNotification('Please fill in all fields', 'error');
                        return;
                    }
                    
                    if (password !== confirmPassword) {
                        showNotification('Passwords do not match!', 'error');
                        return;
                    }
                    
                    // Enhanced loading state
                    const submitBtn = this.querySelector('.btn-primary');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Creating Account...';
                    submitBtn.classList.add('btn-loading');
                    submitBtn.disabled = true;
                    
                    setTimeout(() => {
                        submitBtn.textContent = 'Account Created!';
                        submitBtn.classList.remove('btn-loading');
                        submitBtn.classList.add('success-animation');
                        
                        setTimeout(() => {
                            showNotification('Account created successfully! Welcome to AgroGPT, ' + name, 'success');
                            submitBtn.textContent = originalText;
                            submitBtn.classList.remove('success-animation');
                            submitBtn.disabled = false;
                            closeModal('signupModal');
                            updateUserProfile(name, email);
                        }, 1000);
                    }, 2000);
                });
            }
            
            // Forgot Password Form
            const forgotPasswordForm = document.getElementById('forgotPasswordForm');
            if (forgotPasswordForm) {
                forgotPasswordForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = document.getElementById('resetEmail').value;
                    
                    if (!email) {
                        showNotification('Please enter your email address', 'error');
                        return;
                    }
                    
                    // Enhanced loading state
                    const submitBtn = this.querySelector('.btn-primary');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Sending Reset Link...';
                    submitBtn.classList.add('btn-loading');
                    submitBtn.disabled = true;
                    
                    setTimeout(() => {
                        submitBtn.textContent = 'Link Sent!';
                        submitBtn.classList.remove('btn-loading');
                        submitBtn.classList.add('success-animation');
                        
                        setTimeout(() => {
                            showNotification('Password reset link sent to ' + email, 'success');
                            submitBtn.textContent = originalText;
                            submitBtn.classList.remove('success-animation');
                            submitBtn.disabled = false;
                            closeModal('forgotPasswordModal');
                        }, 1000);
                    }, 1500);
                });
            }
        });

        function updateUserProfile(name, email = 'farmer@example.com') {
            // Update profile fields in settings with animation
            const displayName = document.getElementById('displayName');
            const userEmail = document.getElementById('userEmail');
            
            if (displayName) {
                displayName.value = name || 'Farmer User';
                displayName.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    displayName.style.transform = 'scale(1)';
                }, 200);
            }
            if (userEmail) {
                userEmail.value = email;
                userEmail.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    userEmail.style.transform = 'scale(1)';
                }, 200);
            }
        }

        // Enhanced Settings Management
        function saveSettings() {
            // Collect all settings
            const settings = {
                profile: {
                    displayName: document.getElementById('displayName')?.value,
                    email: document.getElementById('userEmail')?.value,
                    phone: document.getElementById('userPhone')?.value,
                    bio: document.getElementById('userBio')?.value
                },
                location: {
                    defaultLocation: document.getElementById('defaultLocation')?.value,
                    timezone: document.getElementById('userTimezone')?.value,
                    farmSize: document.getElementById('farmSize')?.value,
                    soilType: document.getElementById('soilType')?.value
                },
                notifications: {
                    email: document.getElementById('emailNotif')?.checked,
                    weather: document.getElementById('weatherAlerts')?.checked,
                    cropReminders: document.getElementById('cropReminders')?.checked,
                    marketUpdates: document.getElementById('marketUpdates')?.checked
                },
                appearance: {
                    theme: document.getElementById('themeSelect')?.value,
                    fontSize: document.getElementById('fontSize')?.value,
                    animations: document.getElementById('animations')?.checked
                }
            };
            
            // Save to localStorage
            localStorage.setItem('agrogptSettings', JSON.stringify(settings));
            
            // Enhanced success animation
            const saveBtn = document.querySelector('#settingsModal .btn-primary');
            const originalText = saveBtn.textContent;
            
            saveBtn.classList.add('success-animation');
            saveBtn.textContent = 'Settings Saved!';
            saveBtn.style.background = 'linear-gradient(135deg, #00ff88, #00cc6a)';
            
            setTimeout(() => {
                saveBtn.classList.remove('success-animation');
                saveBtn.textContent = originalText;
                saveBtn.style.background = '';
                showNotification('Settings saved successfully!', 'success');
            }, 2000);
        }

        // Enhanced Notification System
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            // Style the notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                transform: translateX(100%);
                transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
            `;
            
            // Set background based on type
            if (type === 'success') {
                notification.style.background = 'linear-gradient(135deg, #00ff88, #00cc6a)';
                notification.style.color = '#1a1a1a';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(135deg, #ff6b6b, #ff4757)';
            } else {
                notification.style.background = 'linear-gradient(135deg, #00d4ff, #0099cc)';
            }
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 400);
            }, 3000);
        }

        // Enhanced Load Settings
        document.addEventListener('DOMContentLoaded', function() {
            const savedSettings = localStorage.getItem('agrogptSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Apply saved settings to form fields with animation
                const fields = [
                    { id: 'displayName', value: settings.profile?.displayName },
                    { id: 'userEmail', value: settings.profile?.email },
                    { id: 'userPhone', value: settings.profile?.phone },
                    { id: 'userBio', value: settings.profile?.bio },
                    { id: 'defaultLocation', value: settings.location?.defaultLocation },
                    { id: 'userTimezone', value: settings.location?.timezone },
                    { id: 'farmSize', value: settings.location?.farmSize },
                    { id: 'soilType', value: settings.location?.soilType },
                    { id: 'themeSelect', value: settings.appearance?.theme },
                    { id: 'fontSize', value: settings.appearance?.fontSize }
                ];
                
                fields.forEach((field, index) => {
                    if (field.value) {
                        const element = document.getElementById(field.id);
                        if (element) {
                            setTimeout(() => {
                                element.value = field.value;
                                element.style.transform = 'scale(1.05)';
                                setTimeout(() => {
                                    element.style.transform = 'scale(1)';
                                }, 200);
                            }, index * 50);
                        }
                    }
                });
                
                // Apply checkbox settings
                const checkboxes = [
                    { id: 'emailNotif', value: settings.notifications?.email },
                    { id: 'weatherAlerts', value: settings.notifications?.weather },
                    { id: 'cropReminders', value: settings.notifications?.cropReminders },
                    { id: 'marketUpdates', value: settings.notifications?.marketUpdates }
                ];
                
                checkboxes.forEach((checkbox, index) => {
                    if (checkbox.value !== undefined) {
                        const element = document.getElementById(checkbox.id);
                        if (element) {
                            setTimeout(() => {
                                element.checked = checkbox.value;
                                if (checkbox.value) {
                                    element.closest('.checkbox-label').classList.add('success-animation');
                                }
                            }, index * 100);
                        }
                    }
                });
            }
            
            // Add input focus effects
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.style.transform = 'translateY(-2px)';
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.style.transform = 'translateY(0)';
                });
            });
        });

        // Enhanced Modal Close on Outside Click
        window.addEventListener('click', function(event) {
            const modals = ['loginModal', 'signupModal', 'forgotPasswordModal', 'settingsModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    closeModal(modalId);
                }
            });
        });

        // Enhanced Keyboard Support
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = ['loginModal', 'signupModal', 'forgotPasswordModal', 'settingsModal'];
                modals.forEach(modalId => {
                    const modal = document.getElementById(modalId);
                    if (modal.style.display === 'flex') {
                        closeModal(modalId);
                    }
                });
            }
        });

        // Admin System Functions
        let currentUser = null;
        let isAdmin = false;
        let sessionTimeout = null;
        let inactivityTimer = null;
        const SESSION_TIMEOUT = 10 * 60 * 1000; // 10 minutes
        const INACTIVITY_TIMEOUT = 5 * 60 * 1000; // 5 minutes

        // Check if user is logged in
        function checkUserStatus() {
            const savedUser = localStorage.getItem('agroGPTUser');
            if (savedUser) {
                try {
                    currentUser = JSON.parse(savedUser);
                    isAdmin = currentUser.role === 'admin';
                    updateNavButtons();
                    startSessionTimer();
                    startInactivityTimer();
                } catch (error) {
                    console.error('Error parsing user data:', error);
                    logout();
                }
            }
        }

        // Update navigation buttons based on user status
        function updateNavButtons() {
            const adminBtn = document.getElementById('adminLoginBtn');
            const profileBtn = document.getElementById('userProfileBtn');
            
            if (currentUser) {
                adminBtn.style.display = 'none';
                profileBtn.style.display = 'flex';
                profileBtn.innerHTML = `<i class="fas fa-user-circle"></i><span class="btn-text">${currentUser.name}</span>`;
            } else {
                adminBtn.style.display = 'flex';
                profileBtn.style.display = 'none';
            }
        }

        // Session Management
        function startSessionTimer() {
            if (sessionTimeout) clearTimeout(sessionTimeout);
            sessionTimeout = setTimeout(() => {
                showNotification('Session expired for security. Please login again.', 'warning');
                logout();
            }, SESSION_TIMEOUT);
        }

        function startInactivityTimer() {
            if (inactivityTimer) clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(() => {
                showNotification('Auto-logout due to inactivity for privacy protection.', 'info');
                logout();
            }, INACTIVITY_TIMEOUT);
        }

        function resetInactivityTimer() {
            if (inactivityTimer) clearTimeout(inactivityTimer);
            startInactivityTimer();
        }

        // Encrypted Storage Functions
        function encryptData(data) {
            // Simple encryption for demo - in production use proper encryption
            return btoa(JSON.stringify(data));
        }

        function decryptData(encryptedData) {
            try {
                return JSON.parse(atob(encryptedData));
            } catch (error) {
                console.error('Error decrypting data:', error);
                return null;
            }
        }

        function saveUserDataSecurely(userData) {
            const encryptedData = encryptData(userData);
            localStorage.setItem('agroGPTUser', encryptedData);
        }

        // Admin Login Functions
        function handleAdminLogin(event) {
            event.preventDefault();
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            // Simulate admin authentication
            if (username === 'admin' && password === 'admin123') {
                currentUser = {
                    id: 1,
                    name: 'Admin User',
                    email: 'admin@agrogpt.com',
                    role: 'admin',
                    permissions: ['all'],
                    loginTime: new Date().toISOString(),
                    lastActivity: new Date().toISOString()
                };
                saveUserDataSecurely(currentUser);
                updateNavButtons();
                closeModal('adminLoginModal');
                showNotification('Welcome, Admin! Session started with privacy protection.', 'success');
                startSessionTimer();
                startInactivityTimer();
            } else {
                showNotification('Invalid credentials. Please try again.', 'error');
            }
        }

        // User Registration
        function handleUserSignup(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const userData = {
                id: Date.now(),
                name: formData.get('signupName'),
                email: formData.get('signupEmail'),
                username: formData.get('signupUsername'),
                role: 'user',
                permissions: ['basic'],
                loginTime: new Date().toISOString(),
                lastActivity: new Date().toISOString()
            };
            
            currentUser = userData;
            saveUserDataSecurely(userData);
            updateNavButtons();
            closeModal('userSignupModal');
            showNotification('Account created successfully! Your data is protected.', 'success');
            startSessionTimer();
            startInactivityTimer();
        }

        // Forgot Password
        function handleForgotPassword(event) {
            event.preventDefault();
            const email = document.getElementById('resetEmail').value;
            showNotification('Password reset link sent to ' + email + ' (check spam folder)', 'success');
            closeModal('forgotPasswordModal');
        }

        // Enhanced Logout with Privacy
        function logout() {
            // Clear all user data
            currentUser = null;
            localStorage.removeItem('agroGPTUser');
            localStorage.removeItem('agroGPTSettings');
            localStorage.removeItem('agroGPTPreferences');
            
            // Clear timers
            if (sessionTimeout) clearTimeout(sessionTimeout);
            if (inactivityTimer) clearTimeout(inactivityTimer);
            
            updateNavButtons();
            showNotification('Logged out successfully. All data cleared for privacy.', 'info');
        }

        // Clear All Data Function
        function clearAllData() {
            if (confirm('⚠️ This will permanently delete ALL your data including:\n\n• Login information\n• Settings and preferences\n• Farm data and history\n• All saved configurations\n\nThis action cannot be undone. Continue?')) {
                // Clear all localStorage
                localStorage.clear();
                
                // Clear session storage
                sessionStorage.clear();
                
                // Reset user state
                currentUser = null;
                isAdmin = false;
                
                // Clear timers
                if (sessionTimeout) clearTimeout(sessionTimeout);
                if (inactivityTimer) clearTimeout(inactivityTimer);
                
                updateNavButtons();
                showNotification('All data cleared successfully. Privacy protected.', 'success');
                closeModal('userProfileModal');
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Activity tracking for inactivity timer
        document.addEventListener('mousemove', resetInactivityTimer);
        document.addEventListener('keypress', resetInactivityTimer);
        document.addEventListener('click', resetInactivityTimer);
        document.addEventListener('scroll', resetInactivityTimer);

        // Initialize user status
        checkUserStatus();
    </script>

    <style>
        /* Enhanced Responsive Design System for Home Page */
        
        /* Large Desktop (1400px and above) */
        @media (min-width: 1400px) {
            .container {
                max-width: 1400px;
                padding: 30px;
            }
            
            .hero-section h1 {
                font-size: 4.5em;
            }
            
            .hero-section p {
                font-size: 1.4em;
            }
            
            .features-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 30px;
            }
            
            .nav-container {
                max-width: 1400px;
            }
        }
        
        /* Desktop (1200px - 1399px) */
        @media (min-width: 1200px) and (max-width: 1399px) {
            .container {
                max-width: 1200px;
                padding: 25px;
            }
            
            .hero-section h1 {
                font-size: 4em;
            }
            
            .features-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 25px;
            }
        }
        
        /* Tablet Landscape (992px - 1199px) */
        @media (min-width: 992px) and (max-width: 1199px) {
            .container {
                max-width: 960px;
                padding: 20px;
            }
            
            .hero-section h1 {
                font-size: 3.5em;
            }
            
            .hero-section p {
                font-size: 1.2em;
            }
            
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .nav-menu {
                gap: 3px;
            }
            
            .nav-link {
                font-size: 0.85em;
                padding: 6px 10px;
            }
        }
        
        /* Tablet Portrait (768px - 991px) */
        @media (min-width: 768px) and (max-width: 991px) {
            .container {
                max-width: 720px;
                padding: 15px;
            }
            
            .hero-section h1 {
                font-size: 3em;
            }
            
            .hero-section p {
                font-size: 1.1em;
            }
            
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .nav-container {
                padding: 0 25px;
            }
            
            .nav-menu {
                gap: 2px;
            }
            
            .nav-link {
                font-size: 0.8em;
                padding: 5px 8px;
            }
            
            .nav-link span {
                display: none;
            }
            
            .nav-link i {
                font-size: 1.1em;
            }
        }
        
        /* Mobile Large (576px - 767px) */
        @media (min-width: 576px) and (max-width: 767px) {
            .container {
                max-width: 540px;
                padding: 10px;
                padding-top: 70px;
            }
            
            .hero-section {
                padding: 40px 0;
            }
            
            .hero-section h1 {
                font-size: 2.8em;
                margin-bottom: 15px;
            }
            
            .hero-section p {
                font-size: 1em;
                margin-bottom: 25px;
            }
            
            .hero-buttons {
                flex-direction: column;
                gap: 15px;
                align-items: center;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .nav-container {
                padding: 0 15px;
                height: 55px;
            }
            
            .nav-logo {
                font-size: 1.1em;
            }
            
            .nav-logo i {
                font-size: 1.3em;
            }
            
            .hamburger {
                display: flex;
            }
            
            .nav-menu {
                position: fixed;
                left: -100%;
                top: 55px;
                flex-direction: column;
                background: rgba(10, 10, 10, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                gap: 15px;
                border-top: 1px solid rgba(0, 212, 255, 0.2);
                backdrop-filter: blur(15px);
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-link {
                justify-content: center;
                padding: 15px;
                font-size: 1.1em;
                border-radius: 10px;
                margin: 0 20px;
            }
            
            .nav-link:hover {
                background: rgba(0, 212, 255, 0.1);
                transform: translateY(-2px);
            }
            
            .nav-actions {
                display: none;
            }
            
            .ai-assistant-panel {
                width: 300px;
                height: 400px;
                bottom: 70px;
                right: 10px;
            }
            
            .ai-assistant-toggle {
                padding: 12px 20px;
                font-size: 13px;
            }
        }
        
        /* Mobile Medium (375px - 575px) */
        @media (min-width: 375px) and (max-width: 575px) {
            .container {
                max-width: 100%;
                padding: 8px;
                padding-top: 65px;
            }
            
            .hero-section {
                padding: 30px 0;
            }
            
            .hero-section h1 {
                font-size: 2.4em;
                margin-bottom: 12px;
            }
            
            .hero-section p {
                font-size: 0.95em;
                margin-bottom: 20px;
                padding: 0 15px;
            }
            
            .hero-buttons {
                flex-direction: column;
                gap: 12px;
                align-items: center;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .nav-container {
                padding: 0 12px;
                height: 50px;
            }
            
            .nav-logo {
                font-size: 1em;
            }
            
            .nav-logo i {
                font-size: 1.2em;
            }
            
            .hamburger {
                display: flex;
            }
            
            .bar {
                width: 18px;
                height: 2px;
            }
            
            .nav-menu {
                position: fixed;
                left: -100%;
                top: 50px;
                flex-direction: column;
                background: rgba(10, 10, 10, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 15px 0;
                gap: 12px;
                border-top: 1px solid rgba(0, 212, 255, 0.2);
                backdrop-filter: blur(15px);
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-link {
                justify-content: center;
                padding: 12px;
                font-size: 1em;
                border-radius: 8px;
                margin: 0 15px;
            }
            
            .nav-actions {
                display: none;
            }
            
            .ai-assistant-panel {
                width: 280px;
                height: 380px;
                bottom: 65px;
                right: 8px;
            }
            
            .ai-assistant-toggle {
                padding: 10px 18px;
                font-size: 12px;
            }
        }
        
        /* Mobile Small (320px - 374px) */
        @media (max-width: 374px) {
            .container {
                max-width: 100%;
                padding: 5px;
                padding-top: 60px;
            }
            
            .hero-section {
                padding: 25px 0;
            }
            
            .hero-section h1 {
                font-size: 2em;
                margin-bottom: 10px;
            }
            
            .hero-section p {
                font-size: 0.9em;
                margin-bottom: 18px;
                padding: 0 10px;
            }
            
            .hero-buttons {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .nav-container {
                padding: 0 10px;
                height: 45px;
            }
            
            .nav-logo {
                font-size: 0.9em;
            }
            
            .nav-logo i {
                font-size: 1.1em;
            }
            
            .hamburger {
                display: flex;
            }
            
            .bar {
                width: 16px;
                height: 2px;
            }
            
            .nav-menu {
                position: fixed;
                left: -100%;
                top: 45px;
                flex-direction: column;
                background: rgba(10, 10, 10, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 12px 0;
                gap: 10px;
                border-top: 1px solid rgba(0, 212, 255, 0.2);
                backdrop-filter: blur(15px);
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-link {
                justify-content: center;
                padding: 10px;
                font-size: 0.95em;
                border-radius: 6px;
                margin: 0 12px;
            }
            
            .nav-actions {
                display: none;
            }
            
            .ai-assistant-panel {
                width: 260px;
                height: 350px;
                bottom: 60px;
                right: 5px;
            }
            
            .ai-assistant-toggle {
                padding: 8px 16px;
                font-size: 11px;
            }
        }
        
        /* Landscape Orientation Adjustments */
        @media (max-height: 500px) and (orientation: landscape) {
            .hero-section {
                padding: 15px 0;
            }
            
            .hero-section h1 {
                font-size: 2.2em;
                margin-bottom: 8px;
            }
            
            .hero-section p {
                font-size: 0.9em;
                margin-bottom: 15px;
            }
            
            .ai-assistant-panel {
                height: 300px;
                bottom: 60px;
            }
        }
        
        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .nav-link:hover {
                transform: none;
            }
            
            .hero-btn:hover {
                transform: none;
            }
            
            .ai-assistant-toggle:hover {
                transform: none;
            }
            
            /* Increase touch targets */
            .nav-link {
                min-height: 44px;
                min-width: 44px;
            }
            
            .hero-btn {
                min-height: 44px;
            }
            
            .ai-assistant-toggle {
                min-height: 44px;
            }
        }
        
        /* Footer Responsive */
        @media (max-width: 768px) {
            .footer-container {
                flex-direction: column;
                gap: 30px;
                padding: 40px 20px 30px;
            }

            .footer-bottom-content {
                flex-direction: column;
                text-align: center;
            }

            .footer-bottom-links {
                justify-content: center;
            }
        }
    </style>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const assistantBtn = document.querySelector('.ai-assistant');
        const footer = document.querySelector('footer');
        if (!assistantBtn || !footer) return;
        let lastFooterHeight = 0;
        function updateButtonPosition(entry) {
            if (entry.isIntersecting) {
                const footerRect = footer.getBoundingClientRect();
                const btnRect = assistantBtn.getBoundingClientRect();
                // Calculate how much the button would overlap the footer
                let overlap = (window.innerHeight - footerRect.top);
                let moveUp = Math.max(overlap, 0) + 24; // 24px extra space
                assistantBtn.style.bottom = `calc(30px + ${moveUp}px)`;
            } else {
                assistantBtn.style.bottom = '';
            }
        }
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(updateButtonPosition);
        }, { threshold: 0 });
        observer.observe(footer);
        // On resize, re-calculate
        window.addEventListener('resize', () => {
            observer.unobserve(footer);
            observer.observe(footer);
        });
    });

    // Admin System Functions
    let currentUser = null;
    let isAdmin = false;

    // Check if user is logged in
    function checkUserStatus() {
        const savedUser = localStorage.getItem('agroGPTUser');
        if (savedUser) {
            try {
                currentUser = JSON.parse(savedUser);
                isAdmin = currentUser.role === 'admin';
                updateNavButtons();
                startSessionTimer();
                startInactivityTimer();
            } catch (error) {
                console.error('Error parsing user data:', error);
                logout();
            }
        }
    }

    // Update navigation buttons based on user status
    function updateNavButtons() {
        const adminBtn = document.getElementById('adminLoginBtn');
        const profileBtn = document.getElementById('userProfileBtn');
        
        if (currentUser) {
            adminBtn.style.display = 'none';
            profileBtn.style.display = 'flex';
            profileBtn.innerHTML = `<i class="fas fa-user-circle"></i><span class="btn-text">${currentUser.name}</span>`;
        } else {
            adminBtn.style.display = 'flex';
            profileBtn.style.display = 'none';
        }
    }

    // Session Management
    function startSessionTimer() {
        if (sessionTimeout) clearTimeout(sessionTimeout);
        sessionTimeout = setTimeout(() => {
            showNotification('Session expired for security. Please login again.', 'warning');
            logout();
        }, SESSION_TIMEOUT);
    }

    function startInactivityTimer() {
        if (inactivityTimer) clearTimeout(inactivityTimer);
        inactivityTimer = setTimeout(() => {
            showNotification('Auto-logout due to inactivity for privacy protection.', 'info');
            logout();
        }, INACTIVITY_TIMEOUT);
    }

    function resetInactivityTimer() {
        if (inactivityTimer) clearTimeout(inactivityTimer);
        startInactivityTimer();
    }

    // Encrypted Storage Functions
    function encryptData(data) {
        // Simple encryption for demo - in production use proper encryption
        return btoa(JSON.stringify(data));
    }

    function decryptData(encryptedData) {
        try {
            return JSON.parse(atob(encryptedData));
        } catch (error) {
            console.error('Error decrypting data:', error);
            return null;
        }
    }

    function saveUserDataSecurely(userData) {
        const encryptedData = encryptData(userData);
        localStorage.setItem('agroGPTUser', encryptedData);
    }

    // Admin Login Functions
    function handleAdminLogin(event) {
        event.preventDefault();
        const username = document.getElementById('adminUsername').value;
        const password = document.getElementById('adminPassword').value;
        
        // Simulate admin authentication
        if (username === 'admin' && password === 'admin123') {
            currentUser = {
                id: 1,
                name: 'Admin User',
                email: 'admin@agrogpt.com',
                role: 'admin',
                permissions: ['all'],
                loginTime: new Date().toISOString(),
                lastActivity: new Date().toISOString()
            };
            saveUserDataSecurely(currentUser);
            updateNavButtons();
            closeModal('adminLoginModal');
            showNotification('Welcome, Admin! Session started with privacy protection.', 'success');
            startSessionTimer();
            startInactivityTimer();
        } else {
            showNotification('Invalid credentials. Please try again.', 'error');
        }
    }

    // User Registration
    function handleUserSignup(event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        const userData = {
            id: Date.now(),
            name: formData.get('signupName'),
            email: formData.get('signupEmail'),
            username: formData.get('signupUsername'),
            role: 'user',
            permissions: ['basic'],
            loginTime: new Date().toISOString(),
            lastActivity: new Date().toISOString()
        };
        
        currentUser = userData;
        saveUserDataSecurely(userData);
        updateNavButtons();
        closeModal('userSignupModal');
        showNotification('Account created successfully! Your data is protected.', 'success');
        startSessionTimer();
        startInactivityTimer();
    }

    // Forgot Password
    function handleForgotPassword(event) {
        event.preventDefault();
        const email = document.getElementById('resetEmail').value;
        showNotification('Password reset link sent to ' + email + ' (check spam folder)', 'success');
        closeModal('forgotPasswordModal');
    }

    // Enhanced Logout with Privacy
    function logout() {
        // Clear all user data
        currentUser = null;
        localStorage.removeItem('agroGPTUser');
        localStorage.removeItem('agroGPTSettings');
        localStorage.removeItem('agroGPTPreferences');
        
        // Clear timers
        if (sessionTimeout) clearTimeout(sessionTimeout);
        if (inactivityTimer) clearTimeout(inactivityTimer);
        
        updateNavButtons();
        showNotification('Logged out successfully. All data cleared for privacy.', 'info');
    }

    // Clear All Data Function
    function clearAllData() {
        if (confirm('⚠️ This will permanently delete ALL your data including:\n\n• Login information\n• Settings and preferences\n• Farm data and history\n• All saved configurations\n\nThis action cannot be undone. Continue?')) {
            // Clear all localStorage
            localStorage.clear();
            
            // Clear session storage
            sessionStorage.clear();
            
            // Reset user state
            currentUser = null;
            isAdmin = false;
            
            // Clear timers
            if (sessionTimeout) clearTimeout(sessionTimeout);
            if (inactivityTimer) clearTimeout(inactivityTimer);
            
            updateNavButtons();
            showNotification('All data cleared successfully. Privacy protected.', 'success');
            closeModal('userProfileModal');
        }
    }

    // Show notification
    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                <span>${message}</span>
            </div>
        `;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.classList.add('show');
        }, 100);
        
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 300);
        }, 4000);
    }

    // Activity tracking for inactivity timer
    document.addEventListener('mousemove', resetInactivityTimer);
    document.addEventListener('keypress', resetInactivityTimer);
    document.addEventListener('click', resetInactivityTimer);
    document.addEventListener('scroll', resetInactivityTimer);

    // Initialize user status
    checkUserStatus();
    </script>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('adminLoginModal')">&times;</span>
            <div class="modal-header">
                <h2><i class="fas fa-user-shield"></i> Admin Login</h2>
                <p>Access administrative features and user management</p>
            </div>
            
            <div class="modal-body">
                <form id="adminLoginForm" onsubmit="handleAdminLogin(event)">
                    <div class="form-group">
                        <label for="adminUsername">Username</label>
                        <input type="text" id="adminUsername" name="adminUsername" required placeholder="Enter admin username">
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">Password</label>
                        <input type="password" id="adminPassword" name="adminPassword" required placeholder="Enter admin password">
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="adminRememberMe">
                            <span class="checkmark"></span>
                            Remember me
                        </label>
                        <a href="#" onclick="openModal('forgotPasswordModal'); closeModal('adminLoginModal')" class="forgot-link">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn-primary">Login as Admin</button>
                </form>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <button class="btn-secondary" onclick="openModal('userSignupModal'); closeModal('adminLoginModal')">
                    <i class="fas fa-user-plus"></i> Create User Account
                </button>
            </div>
        </div>
    </div>

    <!-- User Signup Modal -->
    <div id="userSignupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('userSignupModal')">&times;</span>
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Create User Account</h2>
                <p>Join AgroGPT for smart farming features</p>
            </div>
            
            <div class="modal-body">
                <form id="userSignupForm" onsubmit="handleUserSignup(event)">
                    <div class="form-group">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" name="signupName" required placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Email Address</label>
                        <input type="email" id="signupEmail" name="signupEmail" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="signupUsername">Username</label>
                        <input type="text" id="signupUsername" name="signupUsername" required placeholder="Choose a username">
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" name="signupPassword" required placeholder="Create a password">
                    </div>
                    <div class="form-group">
                        <label for="signupConfirmPassword">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" name="signupConfirmPassword" required placeholder="Confirm your password">
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTerms" required>
                            <span class="checkmark"></span>
                            I agree to the Terms & Conditions
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">Create Account</button>
                </form>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <button class="btn-secondary" onclick="openModal('adminLoginModal'); closeModal('userSignupModal')">
                    <i class="fas fa-user-shield"></i> Admin Login
                </button>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="userProfileModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('userProfileModal')">&times;</span>
            <div class="modal-header">
                <h2><i class="fas fa-user-circle"></i> User Profile</h2>
                <p>Manage your account and preferences</p>
            </div>
            
            <div class="modal-body">
                <div class="profile-info">
                    <div class="profile-avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="profile-details">
                        <h3 id="profileName">Loading...</h3>
                        <p id="profileEmail">Loading...</p>
                        <span class="role-badge" id="profileRole">Loading...</span>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <button class="btn-secondary" onclick="openModal('settingsModal'); closeModal('userProfileModal')">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                    <button class="btn-secondary" onclick="openModal('forgotPasswordModal'); closeModal('userProfileModal')">
                        <i class="fas fa-key"></i> Change Password
                    </button>
                    <button class="btn-warning" onclick="clearAllData()">
                        <i class="fas fa-trash-alt"></i> Clear All Data
                    </button>
                    <button class="btn-danger" onclick="logout(); closeModal('userProfileModal')">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content settings-modal">
            <span class="close" onclick="closeModal('settingsModal')">&times;</span>
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> Settings</h2>
                <p>Customize your AgroGPT experience</p>
            </div>
            
            <div class="modal-body">
                <div class="settings-tabs">
                    <button class="tab-btn active" onclick="showTab('profile')">Profile</button>
                    <button class="tab-btn" onclick="showTab('location')">Location</button>
                    <button class="tab-btn" onclick="showTab('notifications')">Notifications</button>
                    <button class="tab-btn" onclick="showTab('appearance')">Appearance</button>
                    <button class="tab-btn" onclick="showTab('security')">Security</button>
                    <button class="tab-btn" onclick="showTab('privacy')">Privacy</button>
                </div>
                
                <!-- Profile Settings -->
                <div id="profileTab" class="tab-content active">
                    <div class="settings-section">
                        <h3>Profile Settings</h3>
                        <div class="form-group">
                            <label for="displayName">Display Name</label>
                            <input type="text" id="displayName" value="Farmer User" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userEmail">Email</label>
                            <input type="email" id="userEmail" value="farmer@example.com" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userPhone">Phone Number</label>
                            <input type="tel" id="userPhone" value="+91 98765 43210" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userBio">Bio</label>
                            <textarea id="userBio" class="white-input" rows="3" placeholder="Tell us about your farming experience...">Experienced farmer with 10+ years in organic farming</textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Location Settings -->
                <div id="locationTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Location Settings</h3>
                        <div class="form-group">
                            <label for="defaultLocation">Default Location</label>
                            <input type="text" id="defaultLocation" value="Mumbai, Maharashtra" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="userTimezone">Timezone</label>
                            <select id="userTimezone" class="white-input">
                                <option value="Asia/Kolkata" selected>Asia/Kolkata (UTC+5:30)</option>
                                <option value="Asia/Delhi">Asia/Delhi (UTC+5:30)</option>
                                <option value="Asia/Mumbai">Asia/Mumbai (UTC+5:30)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="farmSize">Farm Size (acres)</label>
                            <input type="number" id="farmSize" value="25" class="white-input">
                        </div>
                        <div class="form-group">
                            <label for="soilType">Primary Soil Type</label>
                            <select id="soilType" class="white-input">
                                <option value="clay">Clay</option>
                                <option value="loam" selected>Loam</option>
                                <option value="sandy">Sandy</option>
                                <option value="silt">Silt</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Notifications Settings -->
                <div id="notificationsTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Notification Preferences</h3>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="emailNotifications" checked>
                                <span class="checkmark"></span>
                                Email Notifications
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="smsNotifications">
                                <span class="checkmark"></span>
                                SMS Notifications
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="weatherAlerts" checked>
                                <span class="checkmark"></span>
                                Weather Alerts
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="cropAlerts" checked>
                                <span class="checkmark"></span>
                                Crop Health Alerts
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Appearance Settings -->
                <div id="appearanceTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Appearance Settings</h3>
                        <div class="form-group">
                            <label for="themeSelect">Theme</label>
                            <select id="themeSelect" class="white-input">
                                <option value="dark" selected>Dark Theme</option>
                                <option value="light">Light Theme</option>
                                <option value="auto">Auto (System)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="fontSize">Font Size</label>
                            <select id="fontSize" class="white-input">
                                <option value="small">Small</option>
                                <option value="medium" selected>Medium</option>
                                <option value="large">Large</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="animations" checked>
                                <span class="checkmark"></span>
                                Enable Animations
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Security Settings -->
                <div id="securityTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Security Settings</h3>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="twoFactorAuth">
                                <span class="checkmark"></span>
                                Two-Factor Authentication
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="sessionTimeout" checked>
                                <span class="checkmark"></span>
                                Auto Logout (30 minutes)
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="loginNotifications" checked>
                                <span class="checkmark"></span>
                                Login Notifications
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Privacy Settings -->
                <div id="privacyTab" class="tab-content">
                    <div class="settings-section">
                        <h3>Privacy & Data Protection</h3>
                        <div class="privacy-info">
                            <div class="privacy-alert">
                                <i class="fas fa-shield-alt"></i>
                                <strong>Your Privacy is Protected</strong>
                                <p>AgroGPT does not store or share your data externally. All data is stored locally and encrypted.</p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="dataCollection" checked>
                                <span class="checkmark"></span>
                                Allow local data collection for personalized experience
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="analytics" checked>
                                <span class="checkmark"></span>
                                Share anonymous usage analytics (no personal data)
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="autoClear" checked>
                                <span class="checkmark"></span>
                                Auto-clear data on logout
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="sessionTimeout" checked>
                                <span class="checkmark"></span>
                                Auto-logout after 10 minutes of inactivity
                            </label>
                        </div>
                        
                        <div class="privacy-actions">
                            <button class="btn-warning" onclick="clearAllData()">
                                <i class="fas fa-trash-alt"></i> Clear All My Data
                            </button>
                            <button class="btn-secondary" onclick="exportUserData()">
                                <i class="fas fa-download"></i> Export My Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Styles -->
    <style>
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(26, 26, 46, 0.95);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            color: #ffffff;
            font-size: 14px;
            z-index: 10000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-success {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
        }

        .notification-error {
            border-color: #ff4444;
            background: rgba(255, 68, 68, 0.1);
        }

        .notification-info {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-content i {
            font-size: 16px;
        }

        .profile-info {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .profile-avatar {
            font-size: 3em;
            color: #00d4ff;
        }

        .profile-details h3 {
            margin: 0 0 5px 0;
            color: #ffffff;
        }

        .profile-details p {
            margin: 0 0 10px 0;
            color: #b8b8b8;
        }

        .role-badge {
            background: linear-gradient(135deg, #00d4ff, #0099cc);
            color: #000;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .profile-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff4444, #cc3333);
            color: #ffffff;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 68, 68, 0.3);
        }

        .settings-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
        }

        .tab-btn {
            background: transparent;
            border: none;
            color: #b8b8b8;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .tab-btn.active {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
        }

        .tab-btn:hover {
            background: rgba(0, 212, 255, 0.1);
            color: #00d4ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .settings-section h3 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.2em;
        }
    </style>

    <script>
        // Settings Tab Functions
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Update profile modal with user data
        function updateProfileModal() {
            if (currentUser) {
                document.getElementById('profileName').textContent = currentUser.name;
                document.getElementById('profileEmail').textContent = currentUser.email;
                document.getElementById('profileRole').textContent = currentUser.role === 'admin' ? 'Administrator' : 'User';
            }
        }

        // Update profile modal when opened
        document.addEventListener('DOMContentLoaded', function() {
            const profileModal = document.getElementById('userProfileModal');
            if (profileModal) {
                profileModal.addEventListener('show', updateProfileModal);
            }
        });
    </script>

    <!-- Export user data function -->
    <script>
        function exportUserData() {
            const userData = {
                user: currentUser,
                settings: localStorage.getItem('agroGPTSettings'),
                preferences: localStorage.getItem('agroGPTPreferences'),
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(userData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `agrogpt-data-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            showNotification('Data exported successfully!', 'success');
        }

        // Initialize user status
        checkUserStatus();
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const savedUser = localStorage.getItem('agroGPTUser');
            const mainContent = document.querySelector('body');

            if (!savedUser) {
                // Hide all main content except the login prompt
                        <div style="background: #222; color: #fff; padding: 32px 40px; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.3); text-align: center;">
                            <h2 style="margin-bottom: 12px;">🔒 Please log in to use the website</h2>
                            <p style="margin-bottom: 24px;">You must be logged in to access AgroGPT features.</p>
                            <button onclick="openModal('adminLoginModal')" style="background: linear-gradient(135deg, #00d4ff, #0099cc); color: #fff; border: none; padding: 12px 32px; border-radius: 8px; font-size: 1.1em; cursor: pointer;">Log In</button>
                        </div>
                    `;
                } else {
                }
                // Optionally, blur or hide the rest of the content
            } else {
                // User is logged in, show everything
                mainContent.style.filter = 'none';
            }
    });
    </script>
</body>
</html> 
